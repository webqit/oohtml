{
  "version": 3,
  "sources": ["../node_modules/@webqit/use-live/src/params.js", "../node_modules/@webqit/util/js/isObject.js", "../node_modules/@webqit/util/js/isArray.js", "../node_modules/@webqit/util/js/isTypeFunction.js", "../node_modules/@webqit/util/js/isNull.js", "../node_modules/@webqit/util/js/isUndefined.js", "../node_modules/@webqit/util/js/isTypeObject.js", "../node_modules/@webqit/util/js/isEmpty.js", "../node_modules/@webqit/util/js/isFunction.js", "../node_modules/@webqit/util/js/isNumber.js", "../node_modules/@webqit/util/js/isNumeric.js", "../node_modules/@webqit/util/js/isString.js", "../node_modules/@webqit/util/js/isTypeArray.js", "../node_modules/@webqit/util/arr/pushUnique.js", "../node_modules/@webqit/util/obj/getPrototypeChain.js", "../node_modules/@webqit/util/obj/getAllPropertyNames.js", "../node_modules/@webqit/util/obj/mergeCallback.js", "../node_modules/@webqit/util/obj/merge.js", "../node_modules/@webqit/util/js/wq.js", "../node_modules/@webqit/util/arr/from.js", "../node_modules/@webqit/util/obj/get.js", "../node_modules/@webqit/util/obj/set.js", "../node_modules/@webqit/realdom/src/Scheduler.js", "../node_modules/@webqit/realdom/src/realtime/Util.js", "../node_modules/@webqit/realdom/src/realtime/DOMSpec.js", "../node_modules/@webqit/realdom/src/realtime/Realtime.js", "../node_modules/@webqit/realdom/src/realtime/AttrRealtime.js", "../node_modules/@webqit/realdom/src/realtime/DOMRealtime.js", "../node_modules/@webqit/realdom/src/polyfills.js", "../node_modules/@webqit/realdom/src/index.js", "../node_modules/@webqit/util/str/toTitle.js", "../src/util.js", "../src/scoped-js/index.js", "../src/scoped-js/targets.browser.js"],
  "sourcesContent": ["export function resolveParams( ...extensions ) {\n    let extension, params = { runtimeParams, transformerParams, parserParams };\n    while( extension = extensions.shift() ) {\n        const {\n            runtimeParams: _runtimeParams = {},\n            transformerParams: { globalsNoObserve: _globalsNoObserve = [], globalsOnlyPathsExcept: _globalsOnlyPathsExcept = [], ..._transformerParams } = {},\n            parserParams: _parserParams = {},\n        } = extension;\n        params = {\n            runtimeParams: { ...params.runtimeParams, ..._runtimeParams },\n            transformerParams: { ...params.transformerParams, globalsNoObserve: [ ...params.transformerParams.globalsNoObserve, ..._globalsNoObserve ], globalsOnlyPathsExcept: [ ...params.transformerParams.globalsOnlyPathsExcept, ..._globalsOnlyPathsExcept ], ..._transformerParams },\n            parserParams: { ...params.parserParams, ..._parserParams },\n        };\n        if ( extensions.devMode ) { /* shortcut for devMode configs */ }\n    }\n    return params;\n}\nexport const parserParams = {\n    ecmaVersion: 'latest',\n    allowReturnOutsideFunction: true,\n    allowAwaitOutsideFunction: false,\n    allowSuperOutsideMethod: false,\n    preserveParens: false,\n    locations: true,\n};\nexport const transformerParams = {\n    globalsNoObserve: [ 'arguments', 'debugger', ],\n    globalsOnlyPathsExcept: [],\n    originalSource: true,\n    locations: true,\n    compact: 2,\n};\nexport const runtimeParams = {\n    apiVersion: 3,\n};\n", "\n/**\n * Tells if val is pure object.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn !Array.isArray(val) && typeof val === 'object' && val;\n};\n", "\n/**\n * Tells if val is of type \"array\".\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn Array.isArray(val);\n};\n", "\n/**\n * Tells if val is of type \"function\".\n * This holds true for both regular functions and classes.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn typeof val === 'function';\n};\n", "\n/**\n * Tells if val is undefined or is null.\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn val === null || val === '';\n};\n", "\n/**\n * Tells if val is undefined or is of type \"undefined\".\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn arguments.length && (val === undefined || typeof val === 'undefined');\n};\n", "\n/**\n * @imports\n */\nimport _isTypeFunction from './isTypeFunction.js';\n\n/**\n * Tells if val is of type \"object\".\n * This holds true for anything object, including built-ins.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn Array.isArray(val) || (typeof val === 'object' && val) || _isTypeFunction(val);\n};\n", "\n/**\n * @imports\n */\nimport _isNull from './isNull.js';\nimport _isUndefined from './isUndefined.js';\nimport _isTypeObject from './isTypeObject.js';\n\n/**\n * Tells if val is empty in its own type.\n * This holds true for NULLs, UNDEFINED, FALSE, 0,\n * objects without keys, empty arrays.\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn _isNull(val) || _isUndefined(val) || val === false || val === 0 \n\t\t|| (_isTypeObject(val) && !Object.keys(val).length);\n};\n", "\n/**\n * @imports\n */\nimport _isTypeFunction from './isTypeFunction.js';\n\n/**\n * Tells if val is of type \"function\".\n *\n * @param object \t\tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn _isTypeFunction(val) || (val && {}.toString.call(val) === '[object function]');\n};\n", "\n/**\n * Tells if val is of type \"number\".\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn val instanceof Number || (typeof val === 'number');\n};\n", "\n/**\n * @imports\n */\nimport _isNumber from './isNumber.js';\n/**\n * Tells if val is of type \"string\" or a numeric string.\n * This holds true for both numbers and numeric strings.\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn _isNumber(val) || (val !== true && val !== false && val !== null && val !== '' && !isNaN(val * 1));\n};\n", "\n/**\n * Tells if val is of type \"string\".\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn val instanceof String || (typeof val === 'string' && val !== null);\n};\n", "\n/**\n * @imports\n */\nimport _isString from './isString.js';\nimport _isUndefined from './isUndefined.js';\n\n/**\n * Tells if val is \"array-like\".\n * This holds true for anything that has a length property.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn !_isString(val) && !_isUndefined(val.length);\n};\n", "\n/**\n * Adds an item if not already exist.\n *\n * @param array \tarr\n * @param array\t \t...itms\n *\n * @return array\n */\nexport default function(arr, ...items) {\n\titems.forEach(itm => {\n\t\tif (arr.indexOf(itm) < 0) {\n\t\t\tarr.push(itm);\n\t\t}\n\t});\n\treturn arr;\n};\n", "\n/**\n * @imports\n */\nimport _isArray from '../js/isArray.js';\n\n/**\n * Returns the prototype chain.\n *\n * @param object \t\tobj\n * @param object\t \tuntil\n *\n * @return bool\n */\nexport default function(obj, until) {\n\tuntil = until || Object.prototype;\n\tuntil = until && !_isArray(until) ? [until] : until;\n\t// We get the chain of inheritance\n\tvar prototypalChain = [];\n\tvar obj = obj;\n\twhile((obj && (!until || until.indexOf(obj) < 0) && obj.name !== 'default')) {\n\t\tprototypalChain.push(obj);\n\t\tobj = obj ? Object.getPrototypeOf(obj) : null;\n\t}\n\treturn prototypalChain;\n};\n", "\n/**\n * @imports\n */\nimport _pushUnique from '../arr/pushUnique.js';\nimport _getPrototypeChain from './getPrototypeChain.js';\n\n/**\n * Eagerly retrieves object members all down the prototype chain.\n *\n * @param object\t \tobj\n * @param object\t \tuntil\n *\n * @return array\n */\nexport default function(obj, until) {\n\tvar keysAll = [];\n\t_getPrototypeChain(obj, until).forEach(obj => {\n\t\t_pushUnique(keysAll, ...Object.getOwnPropertyNames(obj));\n\t});\n\treturn keysAll;\n};\n", "\n/**\n * @imports\n */\nimport _isArray from '../js/isArray.js';\nimport _isFunction from '../js/isFunction.js';\nimport _isObject from '../js/isObject.js';\nimport _isTypeObject from '../js/isTypeObject.js';\nimport _isNumeric from '../js/isNumeric.js';\nimport _getAllPropertyNames from './getAllPropertyNames.js';\n\n/**\n  * Merges values from subsequent arrays/objects first array/object;\n  * optionally recursive\n  *\n  * @param array ...objs\n  *\n  * @return void\n  */\nexport default function mergeCallback(objs, callback, deepProps = false, isReplace = false, withSymbols = false) {\n\tvar depth = 0;\n\tvar obj1 = objs.shift();\n\tif (_isNumeric(obj1) || obj1 === true || obj1 === false) {\n\t\tdepth = obj1;\n\t\tobj1 = objs.shift();\n\t}\n\tif (!objs.length) {\n\t\tthrow new Error('_merge() requires two or more array/objects.');\n\t}\n\tobjs.forEach((obj2, i) => {\n\t\tif (!_isTypeObject(obj2) && !_isFunction(obj2)) {\n\t\t\treturn;\n\t\t}\n\t\t(deepProps ? _getAllPropertyNames(obj2) : Object.keys(obj2)).forEach(key => {\n\t\t\tif (!callback(key, obj1, obj2, i)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar valAtObj1 = obj1[key];\n\t\t\tvar valAtObj2 = obj2[key];\n\t\t\tif (((_isArray(valAtObj1) && _isArray(valAtObj2)) || (_isObject(valAtObj1) && _isObject(valAtObj2))) \n\t\t\t&& (depth === true || depth > 0)) {\n\t\t\t\t// RECURSE...\n\t\t\t\tobj1[key] = _isArray(valAtObj1) && _isArray(valAtObj2) ? [] : {};\n\t\t\t\tmergeCallback([_isNumeric(depth) ? depth - 1 : depth, obj1[key], valAtObj1, valAtObj2], callback, deepProps, isReplace, withSymbols);\n\t\t\t} else {\n\t\t\t\tif (_isArray(obj1) && _isArray(obj2)) {\n\t\t\t\t\tif (isReplace) {\n\t\t\t\t\t\tobj1[key] = valAtObj2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tobj1.push(valAtObj2);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// In case we're setting a read-only property\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (withSymbols) {\n\t\t\t\t\t\t\tObject.defineProperty(obj1, key, Object.getOwnPropertyDescriptor(obj2, key));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj1[key] = obj2[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(e) {}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\treturn obj1;\n};\n", "\n/**\n * @imports\n */\nimport _mergeCallback from './mergeCallback.js';\n\n/**\n  * Merges values from subsequent arrays/objects first array/object;\n  * optionally recursive\n  *\n  * @param array ...objs\n  *\n  * @return void\n  */\nexport default function(...objs) {\n\treturn _mergeCallback(objs, (k, obj1, obj2) => {\n\t\treturn true;\n\t}, false/*deepProps*/, false/*isReplace*/, false/*withSymbols*/);\n};\n", "export default function wq(obj, ...namespaces) {\n    if (!obj || !['object', 'function'].includes(typeof obj)) {\n        throw new Error(`Argument #1 must be of type object`);\n    }\n    let wq = obj[Symbol.for('wq')];\n    if (!wq) {\n        wq = new WQInternals;\n        Object.defineProperty(obj, Symbol.for('wq'), {\n            value: wq,\n            // Defaults, but to be explicit...\n            enumerable: false,\n            configurable: false,\n            writable: false\n        });\n    }\n    if (!namespaces.length) {\n        return wq;\n    }\n    let _ns, _wq;\n    while ((_ns = namespaces.shift())) {\n        if ((_wq = wq) && !(wq = wq.get(_ns))) {\n            wq = new WQInternals;\n            _wq.set(_ns, wq);\n        }\n    }\n    return wq;\n}\n\nclass WQInternals extends Map {}", "\n/**\n * @imports\n */\nimport _isArray from '../js/isArray.js';\nimport _isTypeArray from '../js/isTypeArray.js';\nimport _isEmpty from '../js/isEmpty.js';\nimport _isObject from '../js/isObject.js';\n\n/**\n * Casts an array-like object to an array.\n *\n * @param mixed \tval\n * @param bool\t \tcastObject\n *\n * @return array\n */\nexport default function(val, castObject = true) {\n\tif (_isArray(val)) {\n\t\treturn val;\n\t};\n\tif (!castObject && _isObject(val)) {\n\t\treturn [val];\n\t};\n\tif (val !== false && val !== 0 && _isEmpty(val)) {\n\t\treturn [];\n\t};\n\tif (_isTypeArray(val)) {\n\t\treturn Array.prototype.slice.call(val);\n\t};\n\tif (_isObject(val)) {\n\t\treturn Object.values(val);\n\t};\n\treturn [val];\n};\n", "\n/**\n * @imports\n */\nimport _isTypeObject from '../js/isTypeObject.js';\nimport _isUndefined from '../js/isUndefined.js';\nimport _isNull from '../js/isNull.js';\nimport _arrFrom from '../arr/from.js';\n\n/**\n * Retrieves the value at the given path.\n *\n * A return value of undefined is ambiguous, and can mean either that the\n * path does not exist, or that the path actually exists but with a value of undefined. If it is required to\n * know whether the path actually exists, pass an object as a third argument.\n * This object will have an \"exists\" key set to true/false.\n *\n * @param object \t\t\t\tctxt\n * @param array \t\t\t\tpath\n * @param object \t\t\t\ttrap\n * @param object \t\t\t\treciever\n *\n * @return mixed\n */\nexport default function(ctxt, path, trap = {}, reciever = {}) {\n\tpath = _arrFrom(path).slice();\n\tvar _ctxt = ctxt;\n\twhile(!_isUndefined(_ctxt) && !_isNull(_ctxt) && path.length) {\n\t\tvar _key = path.shift();\n\t\tif (!(trap.get ? trap.get(_ctxt, _key) : (_isTypeObject(_ctxt) ? _key in _ctxt : _ctxt[_key]))) {\n\t\t\treciever.exists = false;\n\t\t\treturn;\n\t\t}\n\t\t_ctxt = trap.get ? trap.get(_ctxt, _key) : _ctxt[_key];\n\t}\n\treciever.exists = true;\n\treturn _ctxt;\n};\n", "\n/**\n * @imports\n */\nimport _isTypeObject from '../js/isTypeObject.js';\nimport _isFunction from '../js/isFunction.js';\nimport _isNumeric from '../js/isNumeric.js';\nimport _isArray from '../js/isArray.js';\nimport _arrFrom from '../arr/from.js';\nimport _get from './get.js';\n\n/**\n * Sets a value to the given path.\n *\n * @param object \t\t\t\tobj\n * @param array \t\t\t\tpath\n * @param mixed \t\t\t\tval\n * @param object|function \t\tbuildTree\n * @param object \t\t\t\ttrap\n *\n * @return bool\n */\nexport default function(obj, path, val, buildTree = {}, trap = {}) {\n\tconst _set = (target, key, val) => {\n\t\tif (trap.set) {\n\t\t\treturn trap.set(target, key, val);\n\t\t} else {\n\t\t\tif (_isNumeric(path[i]) && _isArray(target)) {\n\t\t\t\ttarget.push(val);\n\t\t\t} else {\n\t\t\t\ttarget[key] = val;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t};\n\tpath = _arrFrom(path);\n\tvar target = obj;\n\tfor(var i = 0; i < path.length; i ++) {\n\t\tif (i < path.length - 1) {\n\t\t\tif (!target || (!_isTypeObject(target) && !_isFunction(target))) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar branch = _get(target, path[i], trap);\n\t\t\tif (!_isTypeObject(branch)) {\n\t\t\t\tif (trap.buildTree === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbranch = _isFunction(trap.buildTree) ? trap.buildTree(i) : (_isNumeric(path[i + 1]) ? [] : {});\n\t\t\t\tvar branchSuccess = _set(target, path[i], branch);\n\t\t\t\tif (!branchSuccess) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttarget = branch;\n\t\t} else {\n\t\t\treturn _set(target, path[i], val);\n\t\t}\n\t}\n};\n", "\n/**\n * ---------------------------\n * Binds callbacks to requestAnimationFrame()\n * to create a central \"read/write\" phases for Ctxt access.\n * ---------------------------\n */\n\t\t\t\nexport default class Scheduler {\n\n\t/**\n\t * Starts the loop.\n\t *\n\t * @return this\n\t */\n\tconstructor( window, synthesis = false ) {\n\t\tObject.defineProperty( this, 'window', { value: window } );\n\t\tObject.defineProperty( this, 'readCallbacks', { value: new Set } );\n\t\tObject.defineProperty( this, 'writeCallbacks', { value: new Set } );\n\t\tObject.defineProperty( this, '_synthesis', { value: 0, writable: true } );\n\t\tif ( !synthesis && this.window.requestAnimationFrame ) {\n\t\t\tthis._loop();\n\t\t} else { this._synthesis ++; }\n\t}\n\n\tget synthesis() { return this._synthesis; }\n\n\tasync synthesizeWhile( callback ) {\n\t\tthis._synthesis ++;\n\t\tthis._fulfill();\n\t\tconst returnValue = await callback();\n\t\tthis._synthesis --;\n\t\treturn returnValue;\n\t}\n\n\t_fulfill() {\n\t\tfor ( const callback of this.readCallbacks ) {\n\t\t\tcallback();\n\t\t\tthis.readCallbacks.delete( callback );\n\t\t}\n\t\tfor ( const callback of this.writeCallbacks ) {\n\t\t\tcallback();\n\t\t\tthis.writeCallbacks.delete( callback );\n\t\t}\n\t}\n\n\t_loop() {\n\t\tthis.window.requestAnimationFrame( () => {\n\t\t\tthis._fulfill();\n\t\t\tthis._loop();\n\t\t} );\n\t}\n\t\n\t/**\n\t * Binds a callback to the \"read\" phase.\n\t *\n\t * @param function \tcallback\n\t * @param bool\t\twithPromise\n\t *\n\t * @return void\n\t */\n\tonread( callback, withPromise = false ) {\n\t\tif ( withPromise ) {\n\t\t\treturn new Promise( resolve => {\n\t\t\t\tif ( this.synthesis ) {\n\t\t\t\t\tresolve( callback() );\n\t\t\t\t} else {\n\t\t\t\t\tthis.readCallbacks.add( () => {\n\t\t\t\t\t\tresolve( callback() );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\tif ( this.synthesis ) {\n\t\t\tPromise.resolve().then( callback );\n\t\t} else {\n\t\t\tthis.readCallbacks.add( callback );\n\t\t}\n\t}\n\t\n\t/**\n\t * Binds a callback to the \"write\" phase.\n\t *\n\t * @param function \tcallback\n\t * @param bool\t\twithPromise\n\t *\n\t * @return void\n\t */\n\tonwrite( callback, withPromise = false ) {\n\t\tif ( withPromise ) {\n\t\t\treturn new Promise( resolve => {\n\t\t\t\tif ( this.synthesis ) {\n\t\t\t\t\tresolve( callback() );\n\t\t\t\t} else {\n\t\t\t\t\tthis.writeCallbacks.add( () => {\n\t\t\t\t\t\tresolve( callback() );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\tif ( this.synthesis ) {\n\t\t\tPromise.resolve().then( callback );\n\t\t} else {\n\t\t\tthis.writeCallbacks.add( callback );\n\t\t}\n\t}\n\t\n\t/**\n\t * A special construct for Ctxt manipulations that span\n\t * one or more read/write cycles.\n\t *\n\t * @param function \tread\n\t * @param function \twrite\n\t * @param mixed\t\tprevTransaction\n\t *\n\t * @return void|mixed\n\t */\n\tcycle( onread, onwrite, prevTransaction ) {\n\t\tthis.onread( () => {\n\t\t\t// Record initial values\n\t\t\tconst readReturn = onread( prevTransaction );\n\t\t\t// Call erite, the transation\n\t\t\tconst callWrite = ( readReturn ) => {\n\t\t\t\tif ( readReturn === undefined ) return;\n\t\t\t\tthis.onwrite( () => {\n\t\t\t\t\tconst writeReturn = onwrite( readReturn, prevTransaction );\n\t\t\t\t\t// Repeat transaction\n\t\t\t\t\tconst repeatTransaction = ( writeReturn ) => {\n\t\t\t\t\t\tif ( writeReturn === undefined ) return;\n\t\t\t\t\t\tthis.cycle( onread, onwrite, writeReturn );\n\t\t\t\t\t};\n\t\t\t\t\t// ---------------------------------------\n\t\t\t\t\t// If \"write\" returns a promise, we wait until it is resolved\n\t\t\t\t\t// ---------------------------------------\n\t\t\t\t\tif ( writeReturn instanceof Promise ) {\n\t\t\t\t\t\twriteReturn.then( repeatTransaction );\n\t\t\t\t\t} else {\n\t\t\t\t\t\trepeatTransaction( writeReturn );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t};\n\t\t\t// ---------------------------------------\n\t\t\t// If \"read\" returns a promise, we wait until it is resolved\n\t\t\t// ---------------------------------------\n\t\t\tif ( readReturn instanceof Promise ) {\n\t\t\t\treadReturn.then( callWrite );\n\t\t\t} else {\n\t\t\t\tcallWrite( readReturn );\n\t\t\t}\n\t\t} );\n\t}\n\n}", "\n\nexport function isXpath( expr ) { return ( expr = expr.trim() ) && expr.startsWith( '(' ) && expr.endsWith( ')' ) }\n\nexport function xpathQuery( window, context, expr, subtree = true ) {\n    expr = ( Array.isArray( expr ) ? expr : [ expr ] ).map( x => ( x + '' ).replace( '(', subtree ? '(.//' : '(./' ) ).join( '|' );\n    let nodes = [], node;\n    try {\n        // Throws in firefox and safari where context is a text node\n        const result = window.document.evaluate( expr, context, null, window.XPathResult.ANY_TYPE );\n        while ( node = result.iterateNext() ) nodes.push( node );\n    } catch( e ) {}\n    return nodes;\n}\n\nexport function xpathMatch( window, node, expr ) {\n    expr = ( Array.isArray( expr ) ? expr : [ expr ] ).map( x => ( x + '' ).replace( '(', '(self::' ) ).join( '|' );\n    try {\n        // Throws in firefox and safari where context is a text node and query isn't\n        return window.document.evaluate( `${ expr }`, node, null, window.XPathResult.BOOLEAN_TYPE ).booleanValue;\n    } catch( e ) {}\n}\n\nexport function containsNode( window, a, b, crossRoots = false, testCache = null ) {\n    const prevTest = testCache?.get( a )?.get( b );\n    if ( typeof prevTest !== 'undefined' ) return prevTest;\n    const response = val => {\n        if ( !testCache?.has( a ) ) testCache?.set( a, new WeakMap );\n        testCache?.get( a )?.set( b, val );\n        return val;\n    };\n    const rootNodeA = a.getRootNode();\n    const rootNodeB = b.getRootNode();\n    if ( rootNodeA === rootNodeB ) return response( a.contains( b ) );\n    if ( crossRoots && rootNodeB instanceof window.ShadowRoot ) return response( containsNode( window, a, rootNodeB.host, crossRoots, testCache ) );\n    return response( false );\n}\n\nexport function splitOuter( str, delim = '|' ) {\n    return [ ...str ].reduce( ( [ quote, depth, splits, skip ], x ) => {\n        if ( !quote && depth === 0 && ( Array.isArray( delim ) ? delim : [ delim ] ).includes( x ) ) {\n            return [ quote, depth, [ '' ].concat( splits ) ];\n        }\n        if ( !quote && [ '(', '[', '{' ].includes( x ) && !splits[ 0 ].endsWith( '\\\\' ) ) depth++;\n        if ( !quote && [ ')', ']', '}' ].includes( x ) && !splits[ 0 ].endsWith( '\\\\' ) ) depth--;\n        if ( [ '\"', \"'\", '`' ].includes( x ) && !splits[ 0 ].endsWith( '\\\\' ) ) {\n            quote = quote === x ? null : ( quote || x );\n        }\n        splits[ 0 ] += x;\n        return [ quote, depth, splits ]\n    }, [ null, 0, [ '' ] ] )[ 2 ].reverse();\n}", "\n/**\n * @imports\n */\nimport * as Util from './Util.js';\n\nexport default class DOMSpec {\n    constructor( content ) {\n        this.content = content;\n        this.type = typeof content === 'string' ? 'selector' : 'instance';\n        this.kind = this.type === 'instance' ? null : Util.isXpath( content ) ? 'xpath' : 'css';\n        if ( this.kind === 'xpath' ) {\n            this.isXpathAttr = Util.splitOuter( content.trim().slice( 1, -1 ), '@' ).length > 1;\n        }\n    }\n    toString() { return this.content; }\n}", "\n/**\n * @imports\n */\nimport { _isFunction, _isObject, _wq } from '@webqit/util/js/index.js';\nimport { _from as _arrFrom } from '@webqit/util/arr/index.js';\nimport DOMSpec from './DOMSpec.js';\nimport * as Util from './Util.js';\n\n/**\n *\n * @class Realtime\n */\nexport default class Realtime {\n\n\t/**\n\t * @constructor\n\t *\n\t * @param document|Element\tcontext\n\t */\n\tconstructor( context, namespace, window ) {\n\t\tthis.context = context;\n\t\tthis.namespace = namespace;\n\t\tthis.window = context.defaultView || context.ownerDocument?.defaultView || window;\n\t\tthis.document = this.window.document;\n\t\tthis.webqit = this.window.webqit;\n\t\tObject.defineProperty( this, '#', { value: {} } );\n\t}\n\t\n\t/**\n\t * Resolves arguments\n\t * \n\t * @param Array \t\t\targs \n\t * \n\t * @returns Array\n\t */\n\tresolveArgs( args ) {\n\t\tif ( _isFunction( args[ 0 ] ) ) { args = [ [], ...args ]; }\n\t\telse if ( _isObject( args[ 0 ] ) && !( args[ 0 ] instanceof DOMSpec ) && args.length === 1 ) {\n\t\t\targs = [ [], undefined, args[ 0 ] ];\n\t\t} else if ( _isObject( args[ 1 ] ) && args.length === 2 ) {\n\t\t\targs = [ _arrFrom( args[ 0 ], false/*castObject*/ ), undefined, args[ 1 ] ];\n\t\t} else { args[ 0 ] = _arrFrom( args[ 0 ], false/*castObject*/ ); }\n\t\tif ( args[ 0 ].filter( x => typeof x !== 'string' && !( x instanceof DOMSpec ) && !( _isObject( x ) && typeof x.addEventListener === 'function' ) ).length ) {\n\t\t\tthrow new Error( `Argument #2 must be either a string or a Node object, or a list of those.` );\n\t\t}\n\t\targs[ 0 ] = args[ 0 ].map( s => s instanceof DOMSpec ? s : new DOMSpec( s ) );\n\t\treturn args;\n\t}\n\n\t/**\n\t * @registry\n\t *\n\t * @param Array\t\t\t\t...args\n\t * \n\t * @returns Map\n\t */\n\tregistry( ...args ) {\n\t\treturn _wq( this.window, 'realdom', this.namespace, ...args );\n\t}\n\t\t\n\t/**\n\t * @createSignalGenerator\n\t * \n\t * @param Object \t\t\tmo \n\t * \n\t * @returns Object\n\t */\n\tcreateSignalGenerator() {\n\t\treturn {\n\t\t\tgenerate() {\n\t\t\t\t// Abort previous\n\t\t\t\tthis.lastController?.abort();\n\t\t\t\tthis.lastController = new AbortController;\n\t\t\t\tconst flags = { signal: this.lastController.signal };\n\t\t\t\treturn flags;\n\t\t\t},\n\t\t\tdisconnect() { this.lastController?.abort(); }\n\t\t}\n\t}\n\t\t\n\t/**\n\t * Loops through registration objects whose contexts match the event context.\n\t * \n\t * @param String \t\tinterceptionTiming\n\t * @param Object|Array \trecord_s\n\t * @param Function \t\tcallback \n\t * \n\t * @returns void\n\t */\n\tforEachMatchingContext( interceptionTiming, record_s, callback ) {\n\t\tconst { window } = this, deferreds = new Set, testCache = new WeakMap;\n\t\tfor ( const [ registration, deferred ] of this.registry( interceptionTiming ) ) {\n\t\t\tlet $records = [].concat( record_s ).filter( record => Util.containsNode( window, registration.context, record.target, registration.params.subtree === 'cross-roots', testCache ) );\n\t\t\tif ( !$records.length ) continue;\n\t\t\tconst args = [ registration, Array.isArray( record_s ) ? $records : $records[ 0 ] ];\n\t\t\tif ( deferred ) deferreds.add( args ); else callback.call( window, ...args );\n\t\t}\n\t\tfor ( const args of deferreds ) callback.call( window, ...args );\n\t\tdeferreds.clear();\n\t}\n\n\t/**\n\t * @disconnectables\n\t * \n\t * @param AbortSignal \t\tsignal\n\t * @param Array \t\t\t...objects \n\t * \n\t * @returns Object\n\t */\n\tdisconnectables( signal, ...objects ) {\n\t\tconst disconnectable = { disconnect() {\n\t\t\tobjects.forEach( d => (\n\t\t\t\td && _isFunction( d.disconnect ) && d.disconnect() \n\t\t\t\t|| _isFunction( d ) && d() \n\t\t\t\t|| _isObject( d ) && ( d.disconnected = true )\n\t\t\t) );\n\t\t} };\n\t\tif ( signal ) signal.addEventListener( 'abort', () => disconnectable.disconnect() );\n\t\treturn disconnectable;\n\t}\n}\n", "\n/**\n * @imports\n */\nimport { _wq } from '@webqit/util/js/index.js';\nimport Realtime from './Realtime.js';\nimport DOMSpec from './DOMSpec.js';\n\n/**\n *\n * @class AttrRealtime\n */\nexport default class AttrRealtime extends Realtime {\n\n\ttype = 'attr';\n\n\t/**\n\t * @constructor\n\t */\n\tconstructor( context, ...args ) {\n\t\tsuper( context, 'attr', ...args );\n\t}\n\t\n\t/**\n\t * Runs a query.\n\t *\n\t * @param array|string\t\t\t\tspec\n\t * @param function\t\t\t\t\tcallback\n\t * @param object\t\t\t\t\tparams\n\t *\n\t * @return Disconnectable|Void\n\t */\n\tget( spec, callback = undefined, params = {} ) {\n\t\tconst originalFilterIsString = typeof spec === 'string' || spec instanceof DOMSpec;\n\t\t[ spec = [], callback = undefined, params = {} ] = this.resolveArgs( arguments );\n\t\tconst { context } = this;\n\t\t// -------------\n\t\tconst records = attrIntersection( context, spec );\n\t\tif ( !callback ) return records;\n\t\tconst signalGenerator = params.lifecycleSignals && this.createSignalGenerator();\n\t\tif ( !originalFilterIsString ) {\n\t\t\tconst flags = signalGenerator?.generate() || {};\n\t\t\tcallback( records, flags, context );\n\t\t} else {\n\t\t\tfor ( const record of records ) {\n\t\t\t\tconst flags = signalGenerator ? signalGenerator.generate() : {};\n\t\t\t\tcallback( record, flags, context );\n\t\t\t}\n\t\t}\n\t\t// -------------\n\t\tif ( params.live ) {\n\t\t\tif ( signalGenerator ) { params = { ...params, signalGenerator }; }\n\t\t\tconst disconnectable_live = this.observe( originalFilterIsString ? spec[ 0 ] : spec, callback, { newValue: true, ...params } );\n\t\t\treturn this.disconnectables( params.signal, disconnectable_live );\n\t\t}\n\t}\n\n\t/**\n\t * Mutation Observer\n\t * \n\t * @param array|string\t\t\t\tspec\n\t * @param function\t\t\t\t\tcallback\n\t * @param object\t\t\t\t\tparams\n\t * \n\t * @returns Disconnectable\n\t */\n\tobserve( spec, callback, params = {} ) {\n\t\tconst originalFilterIsString = typeof spec === 'string' || spec instanceof DOMSpec;\n\t\t[ spec = [], callback, params = {} ] = this.resolveArgs( arguments );\n\t\t// ------------------------\n\t\tif ( [ 'sync', 'intercept' ].includes( params.timing ) ) return this.observeSync( originalFilterIsString ? spec[ 0 ] : spec, callback, params );\n\t\tif ( params.timing && params.timing !== 'async' ) throw new Error( `Timing option \"${ params.timing }\" invalid.` );\n\t\t// ------------------------\n\t\tconst { context, window, webqit } = this;\n\t\t// ------------------\n\t\tif ( params.eventDetails && !webqit.realdom.attrInterceptionHooks?.intercepting ) {\n\t\t\tattrInterception.call( window, 'intercept', () => {} );\n\t\t}\n\t\t// -------------\n\t\tconst disconnectable = new window.MutationObserver( records => {\n\t\t\trecords = dedupAndIgnoreInternals( records ).map( rcd => withAttrEventDetails.call( window, rcd ) );\n\t\t\tdispatch.call( window, registration, records, context );\n\t\t} );\n\t\t// ------------------\n\t\tconst $params = { attributes: true, attributeOldValue: params.oldValue, subtree: params.subtree && true };\n\t\tif ( spec.length ) { $params.attributeFilter = spec.map( a => a + '' ); }\n\t\tdisconnectable.observe( context, $params );\n\t\t// -------------\n\t\tconst signalGenerator = params.signalGenerator || params.lifecycleSignals && this.createSignalGenerator();\n\t\tconst registration = { context, spec, callback, params, atomics: new Map, originalFilterIsString, signalGenerator, disconnectable };\n\t\t// -------------\n\t\treturn this.disconnectables( params.signal, disconnectable, signalGenerator );\n\t}\n\t\n\t/**\n\t * Mutation Interceptor\n\t * \n\t * @param array|string\t\t\t\tspec\n\t * @param function\t\t\t\t\tcallback\n\t * @param object\t\t\t\t\tparams\n\t * \n\t * @returns Disconnectable\n\t */\n\tobserveSync( spec, callback, params = {} ) {\n\t\tconst originalFilterIsString = typeof spec === 'string' || spec instanceof DOMSpec;\n\t\t[ spec, callback, params = {} ] = this.resolveArgs( arguments );\n\t\tconst { context, window } = this;\n\t\t// -------------\n\t\tif ( params.timing && ![ 'sync', 'intercept' ].includes( params.timing ) ) throw new Error( `Timing option \"${ params.timing }\" invalid.` );\n\t\tconst interceptionTiming = params.timing === 'intercept' ? 'intercept' : 'sync';\n\t\tif ( !this.registry( interceptionTiming ).size ) {\n\t\t\t// One handler per intercept/sync registry\n\t\t\tattrInterception.call( window, interceptionTiming, records => {\n\t\t\t\tthis.forEachMatchingContext( interceptionTiming, records, dispatch );\n\t\t\t} );\n\t\t}\n\t\t// -------------\n\t\tconst disconnectable = { disconnect() { registry.delete( registration ); } };\n\t\tconst signalGenerator = params.signalGenerator || params.lifecycleSignals && this.createSignalGenerator();\n\t\tconst registration = { context, spec, callback, params, atomics: new Map, originalFilterIsString, signalGenerator, disconnectable };\n\t\tconst registry = this.registry( interceptionTiming );\n\t\tregistry.set( registration, !!registration.params.deferred );\n\t\t// -------------\n\t\treturn this.disconnectables( params.signal, disconnectable, signalGenerator );\n\t}\n}\n\n/**\n * Deduplicates records.\n * \n * @param Array \t\t\trecords\n * \n * @returns Array\n */\nfunction dedupAndIgnoreInternals( records ) {\n\treturn records.reduce( ( rcds, rcd, i ) => {\n\t\tif ( rcds[ i - 1 ]?.attributeName === rcd.attributeName ) return rcds;\n\t\tif ( _wq( rcd.target, 'realdom', 'internalAttrInteractions' ).get( rcd.attributeName ) ) return rcds;\n\t\treturn rcds.concat( rcd );\n\t}, [] );\n}\n\n/**\n * Dispatches a mutation record if it matches the observed.\n * \n * @param Object \t\t\tregistration\n * @param Array \t\t\trecords\n * \n * @returns Void\n */\nfunction dispatch( registration, records ) {\n\tconst { context, spec, callback, params, atomics, originalFilterIsString, signalGenerator } = registration;\n\tif (!params.subtree) {\n\t\trecords = records.filter((r) => {\n\t\t\treturn r.target === context;\n\t\t}); \n\t}\n\tif ( !records.length ) return;\n\tconst $spec = spec.map( a => a + '' );\n\tif ( params.atomic && !atomics.size ) {\n\t\trecords = attrIntersection( context, spec, records );\n\t} else if ( params.timing !== 'async' && spec.length ) {\n\t\trecords = records.filter( r => $spec.includes( r.name ) );\n\t}\n\tif ( !records.length ) return;\n\t// Should we care about old / new values being present?\n\tif ( !( params.newValue === null && params.oldValue === null && params.eventDetails ) ) {\n\t\trecords = records.map( rcd => {\n\t\t\tlet exclusion;\n\t\t\tif ( !params.eventDetails ) {\n\t\t\t\t( { event: exclusion, ...rcd } = rcd );\n\t\t\t}\n\t\t\tif ( !params.oldValue && ( 'oldValue' in rcd ) ) {\n\t\t\t\t( { oldValue: exclusion, ...rcd } = rcd );\n\t\t\t}\n\t\t\tif ( !params.newValue && ( 'value' in rcd ) ) {\n\t\t\t\t( { value: exclusion, ...rcd } = rcd );\n\t\t\t} else if ( params.newValue && typeof rcd.value === 'undefined' ) {\n\t\t\t\trcd = {  ...rcd, value: internalAttrInteraction( rcd.target, rcd.name, () => rcd.target.getAttribute( rcd.name ) ) };\n\t\t\t}\n\t\t\treturn rcd;\n\t\t} );\n\t}\n\tif ( params.atomic ) {\n\t\trecords.forEach( record => atomics.set( record.name, record ) );\n\t\trecords = Array.from( atomics.entries() ).map( ( [ , value ] ) => value );\n\t}\n\tconst record_s = originalFilterIsString ? records[ 0 ] : records;\n\tconst flags = signalGenerator ? signalGenerator.generate() : {};\n\tcallback( record_s, flags, context );\n}\n\n/**\n */\nfunction internalAttrInteraction( node, attrName, callback ) {\n\tconst savedAttrLocking = _wq( node, 'realdom', 'internalAttrInteractions' ).get( attrName );\n\t_wq( node, 'realdom', 'internalAttrInteractions' ).set( attrName, true );\n\tconst value = callback();\n\t_wq( node, 'realdom', 'internalAttrInteractions' ).set( attrName, savedAttrLocking );\n\treturn value;\n}\n\n/**\n * Helper to determining which records to deliver.\n * \n * @param Object \t\t\tcontext\n * @param Array \t\t\tspec\n * @param Array \t\t\trecords\n * \n * @returns Array\n */\nfunction attrIntersection( context, spec, records = [] ) {\n\tconst _type = { event: null, type: 'attribute' };\n\tif ( spec.length ) {\n\t\treturn spec.map( attrName => {\n\t\t\tattrName = attrName + '';\n\t\t\treturn records.find( r => r.name === attrName ) || { target: context, name: attrName, value: internalAttrInteraction( context, attrName, () => context.getAttribute( attrName ) ), ..._type };\n\t\t} );\n\t}\n\tconst attrs = Array.from( context.attributes );\n\treturn attrs.map( attr => {\n\t\treturn records.find( r => r.name === attr.nodeName ) || { target: context, name: attr.nodeName, value: internalAttrInteraction( context, attr.nodeName, () => attr.nodeValue ), ..._type };\n\t} );\n}\n\n/**\n * Determines the event for an attr mutation record.\n * \n * @param MutationRecord \t{ target, attributeName }\n * \n * @returns Object\n */\nfunction withAttrEventDetails( { target, attributeName, value, oldValue } ) {\n\tconst window = this, registry = window.webqit.realdom.attrInterceptionRecords?.get( target ) || {};\n\tconst event = registry[ attributeName ]?.[ 0 ] || 'mutation';\n\tconst record = { target, name: attributeName, value, oldValue, type: 'observation', event };\n\treturn record;\n}\n\n/**\n * Attributes intersection engine.\n * \n * @param String \t\t\ttiming \n * @param Function \t\t\tcallback \n * \n * @returns \n */\nfunction attrInterception( timing, callback ) {\n\tconst window = this;\n\tconst { webqit, document, Element } = window;\n\tif ( !webqit.realdom.attrInterceptionHooks ) { Object.defineProperty( webqit.realdom, 'attrInterceptionHooks', { value: new Map } ); }\n\tif ( !webqit.realdom.attrInterceptionHooks.has( timing ) ) { webqit.realdom.attrInterceptionHooks.set( timing, new Set ); }\n\twebqit.realdom.attrInterceptionHooks.get( timing ).add( callback );\n\tconst rm = () => webqit.realdom.attrInterceptionHooks.get( timing ).delete( callback );\n\tif ( webqit.realdom.attrInterceptionHooks?.intercepting ) return rm;\n\tconsole.warn( `Attr mutation APIs are now being intercepted.` );\n\twebqit.realdom.attrInterceptionHooks.intercepting = true;\n\tObject.defineProperty( webqit.realdom, 'attrInterceptionRecords', { value: new Map } );\n\n\t// Interception hooks\n\tconst attrIntercept = ( record, defaultAction ) => {\n\t\tif ( !webqit.realdom.attrInterceptionRecords.has( record.target ) ) { webqit.realdom.attrInterceptionRecords.set( record.target, {} ); }\n\t\tconst registry = webqit.realdom.attrInterceptionRecords.get( record.target );\n\t\t// ------------------\n\t\tregistry[ record.name ] = registry[ record.name ] || [];\n\t\tregistry[ record.name ].unshift( record.event );\n\t\tif ( _wq( record.target, 'realdom', 'internalAttrInteractions' ).get( record.name ) ) return defaultAction();\n\t\t// ------------------\n\t\twebqit.realdom.attrInterceptionHooks.get( 'intercept' )?.forEach( callback => callback( [ record ] ) );\n\t\tconst returnValue = defaultAction();\n\t\twebqit.realdom.attrInterceptionHooks.get( 'sync' )?.forEach( callback => callback( [ record ] ) );\n\t\treturn returnValue;\n\t};\n\n\t// Interception observer WILL need to know non-API-based mutations\n\tconst mo = new window.MutationObserver( records => {\n\t\trecords = records.filter( rcd => {\n\t\t\tconst registry = window.webqit.realdom.attrInterceptionRecords?.get( rcd.target ) || {};\n\t\t\treturn !registry[ rcd.attributeName ]?.shift();\n\t\t} );\n\t\trecords = dedupAndIgnoreInternals( records ).map( rcd => withAttrEventDetails.call( window, rcd ) );\n\t\tif ( !records.length ) return;\n\t\twebqit.realdom.attrInterceptionHooks.get( 'intercept' )?.forEach( callback => callback( records ) );\n\t\twebqit.realdom.attrInterceptionHooks.get( 'sync' )?.forEach( callback => callback( records ) );\n\t} );\n\tmo.observe( document, { attributes: true, subtree: true, attributeOldValue: true } );\n\n\t// Intercept DOM attr mutation methods\n\tconst originalApis = Object.create( null );\n\t[ 'setAttribute', 'removeAttribute', 'toggleAttribute', ].forEach( apiName => {\n\t\toriginalApis[ apiName ] = Element.prototype[ apiName ];\n\t\tElement.prototype[ apiName ] = function( ...args ) {\n\t\t\tlet value, oldValue = internalAttrInteraction( this, args[ 0 ], () => this.getAttribute( args[ 0 ] ) );\n\t\t\tif ( [ 'setAttribute', 'toggleAttribute' ].includes( apiName ) ) { value = args[ 1 ]; }\n\t\t\tif ( apiName === 'toggleAttribute' && value === undefined ) {\n\t\t\t\tvalue = oldValue === null ? true : false;\n\t\t\t}\n\t\t\tconst record = { target: this, name: args[ 0 ], value, oldValue, type: 'interception', event: [ this, apiName ] };\n\t\t\tconst exec = () => originalApis[ apiName ].call( this, ...args );\n\t\t\treturn attrIntercept( record, exec );\n\t\t}\n\t} );\n\n\treturn rm;\n}\n", "\n/**\n * @imports\n */\nimport { _isObject } from '@webqit/util/js/index.js';\nimport { _from as _arrFrom } from '@webqit/util/arr/index.js';\nimport AttrRealtime from './AttrRealtime.js';\nimport Realtime from './Realtime.js';\nimport * as Util from './Util.js';\n\n/**\n *\n * @class DOMRealtime\n */\nexport default class DOMRealtime extends Realtime {\n\n\t/**\n\t * @constructor\n\t */\n\tconstructor( context, ...args ) {\n\t\tsuper( context, 'tree', ...args );\n\t}\n\n\t/**\n\t * Alias for ( new AttrRealtime() ).all( ... )\n\t */\n\tattr( filter, callback = undefined, params = {} ) {\n\t\tconst { context, window } = this;\n\t\treturn ( new AttrRealtime( context, window ) ).get( ...arguments );\n\t}\n\n\t/**\n\t * Runs a query.\n\t *\n\t * @param array|Element|string\t\tspec\n\t * @param function\t\t\t\t\tcallback\n\t * @param object\t\t\t\t\tparams\n\t *\n\t * @return Disconnectable|Void\n\t */\n\tquery( spec, callback = undefined, params = {} ) {\n\t\t[ spec, callback = undefined, params = {} ] = this.resolveArgs( arguments );\n\t\tconst { context } = this;\n\t\t// ------------------\n\t\tconst records = new Map, getRecord = target => {\n\t\t\tif ( !records.has( target ) ) { records.set( target, { target, entrants: [], exits: [], type: 'query', event: null } ); }\n\t\t\treturn records.get( target );\n\t\t};\n\t\t// ------------------\n\t\tif ( !params.generation || params.generation === 'entrants' ) {\n\t\t\tif ( !spec.length ) {\n\t\t\t\t//if ( params.subtree ) throw new Error( `The subtree option requires a selector to work.` );\n\t\t\t\t[ ...context.children ].forEach( node => getRecord( context ).entrants.push( node ) );\n\t\t\t} else if ( spec.every( s => s.type === 'selector' ) ) {\n\t\t\t\tconst [ cssSelectors, xpathQueries ] = spec.reduce( ( [ css, xpath ], s ) => {\n\t\t\t\t\treturn s.kind === 'xpath' ? [ css, xpath.concat( s ) ] : [ css.concat( s ), xpath ];\n\t\t\t\t}, [ [], [] ] );\n\t\t\t\tconst matches = [];\n\t\t\t\tif ( params.subtree ) {\n\t\t\t\t\tif ( cssSelectors.length ) { matches.push( ...context.querySelectorAll( cssSelectors.join( ',' ) ) ); }\n\t\t\t\t\tif ( xpathQueries.length ) { matches.push( ...Util.xpathQuery( this.window, context, xpathQueries ) ); }\n\t\t\t\t} else {\n\t\t\t\t\tif ( cssSelectors.length ) { matches.push( ...[ ...context.children ].filter( node => node.matches( cssSelectors ) ) ); }\n\t\t\t\t\tif ( xpathQueries.length ) { matches.push( ...Util.xpathQuery( this.window, context, xpathQueries, false ) ); }\n\t\t\t\t}\n\t\t\t\tmatches.forEach( node => getRecord( node.parentNode || context ).entrants.push( node ) );\n\t\t\t}\n\t\t}\n\t\t// ------------------\n\t\tif ( !callback ) return records;\n\t\tconst disconnectable = { disconnected: false };\n\t\tconst signalGenerator = callback && params.lifecycleSignals && this.createSignalGenerator();\n\t\tfor ( const [ , record ] of records ) {\n\t\t\tif ( disconnectable.disconnected ) break;\n\t\t\tconst flags = signalGenerator?.generate() || {};\n\t\t\tcallback( record, flags, context );\n\t\t}\n\t\t// ------------------\n\t\tif ( params.live ) {\n\t\t\tif ( signalGenerator ) { params = { ...params, signalGenerator }; }\n\t\t\tconst disconnectable_live = this.observe( spec, callback, params );\n\t\t\treturn this.disconnectables( params.signal, disconnectable, disconnectable_live );\n\t\t}\n\t\treturn this.disconnectables( params.signal, disconnectable, signalGenerator );\n\t}\n\n\t/**\n\t * Alias for query( ..., { subtree: false } )\n\t */\n\tchildren( spec, callback = undefined, params = {} ) {\n\t\t[ spec, callback = undefined, params = {} ] = this.resolveArgs( arguments );\n\t\treturn this.query( spec, callback, { ...params, subtree: false } );\n\t}\n\n\t/**\n\t * Alias for query( ..., { subtree: true } )\n\t */\n\tsubtree( spec, callback = undefined, params = {} ) {\n\t\t[ spec, callback = undefined, params = {} ] = this.resolveArgs( arguments );\n\t\treturn this.query( spec, callback, { ...params, subtree: true } );\n\t}\n\n\t/**\n\t * Mutation Observer\n\t * \n\t * @param array|Element|string\t\tspec\n\t * @param function\t\t\t\t\tcallback\n\t * @param object\t\t\t\t\tparams\n\t * \n\t * @returns Disconnectable\n\t */\n\tobserve( spec, callback, params = {} ) {\n\t\t[ spec, callback, params = {} ] = this.resolveArgs( arguments );\n\t\t// ------------------------\n\t\tif ( [ 'sync', 'intercept' ].includes( params.timing ) ) return this.observeSync( spec, callback, params );\n\t\tif ( params.timing && params.timing !== 'async' ) throw new Error( `Timing option \"${ params.timing }\" invalid.` );\n\t\t// ------------------------\n\t\tconst { context, window, webqit, document } = this;\n\t\t// ------------------\n\t\tif ( params.eventDetails ) { webqit.realdom.domInterceptionRecordsAlwaysOn = true; }\n\t\tif ( ( document.readyState === 'loading' || webqit.realdom.domInterceptionRecordsAlwaysOn ) && !webqit.realdom.domInterceptionHooks?.intercepting ) {\n\t\t\tdomInterception.call( window, 'sync', () => {} );\n\t\t}\n\t\t// -------------\n\t\tconst disconnectable = new window.MutationObserver( records => records.forEach( record => {\n\t\t\tdispatch.call( window, registration, withEventDetails.call( window, record ), context );\n\t\t} ) );\n\t\tdisconnectable.observe( context, { childList: true, subtree: params.subtree && true, } );\n\t\tconst signalGenerator = params.signalGenerator || params.lifecycleSignals && this.createSignalGenerator();\n\t\tconst registration = { context, spec, callback, params, signalGenerator, disconnectable };\n\t\t// -------------\n\t\tif ( params.staticSensitivity ) {\n\t\t\tconst disconnectable_attr = staticSensitivity.call( window, registration );\n\t\t\treturn this.disconnectables( params.signal, disconnectable, signalGenerator, disconnectable_attr );\n\t\t}\n\t\treturn this.disconnectables( params.signal, disconnectable, signalGenerator );\n\t}\n\t\n\t/**\n\t * Mutation Interceptor\n\t * \n\t * @param array|Element|string\t\tspec\n\t * @param function\t\t\t\t\tcallback\n\t * @param object\t\t\t\t\tparams\n\t * \n\t * @returns Disconnectable\n\t */\n\tobserveSync( spec, callback, params = {} ) {\n\t\t[ spec, callback, params = {} ] = this.resolveArgs( arguments );\n\t\tconst { context, window } = this;\t\t\n\t\t// -------------\n\t\tif ( params.timing && ![ 'sync', 'intercept' ].includes( params.timing ) ) throw new Error( `Timing option \"${ params.timing }\" invalid.` );\n\t\tconst interceptionTiming = params.timing === 'intercept' ? 'intercept' : 'sync';\n\t\tif ( !this.registry( interceptionTiming ).size ) {\n\t\t\t// One handler per intercept/sync registry\n\t\t\tdomInterception.call( window, interceptionTiming, record => {\n\t\t\t\tthis.forEachMatchingContext( interceptionTiming, record, dispatch );\n\t\t\t} );\n\t\t}\n\t\tconst mo = new window.MutationObserver( records => records.forEach( record => {\n\t\t\tif ( Array.isArray( ( record = withEventDetails.call( window, record ) ).event ) ) return;\n\t\t\tdispatch.call( window, registration, record, context );\n\t\t} ) );\n\t\tmo.observe( context, { childList: true, subtree: params.subtree && true } );\n\t\t// -------------\n\t\tconst disconnectable = { disconnect() {\n\t\t\tregistry.delete( registration );\n\t\t\tmo.disconnect();\n\t\t} };\n\t\tconst signalGenerator = params.signalGenerator || params.lifecycleSignals && this.createSignalGenerator();\n\t\tconst registration = { context, spec, callback, params, signalGenerator, disconnectable };\n\t\tconst registry = this.registry( interceptionTiming );\n\t\tregistry.set( registration, !!registration.params.deferred );\n\t\t// -------------\n\t\tif ( params.staticSensitivity ) {\n\t\t\tconst disconnectable_attr = staticSensitivity.call( window, registration );\n\t\t\treturn this.disconnectables( params.signal, disconnectable, signalGenerator, disconnectable_attr );\n\t\t}\n\t\treturn this.disconnectables( params.signal, disconnectable, signalGenerator );\n\t}\n\n\t/**\n\t * Tracks the connectedness of element references.\n\t *\n\t * @param array|Element\t\t\t\telements\n\t * @param function\t\t\t\t\tcallback\n\t * @param object\t\t\t\t\tparams\n\t *\n\t * @return Disconnectable\n\t */\n\ttrack( elements, callback, params = {} ) {\n\t\tparams = { subtree: true, ...params };\n\t\treturn this.observe( elements, record => {\n\t\t\tif ( record.entrants.length ) callback( true, Array.isArray( elements ) ? record.entrants : record.entrants[ 0 ] );\n\t\t\tif ( record.exits.length ) callback( false, Array.isArray( elements ) ? record.exits : record.exits[ 0 ] );\n\t\t}, params );\n\t}\n}\n\n/**\n * Sensitivty for attribute changes for attribute spec.\n * \n * @param object registration\n * \n * @returns Disconnectable\n */\nfunction staticSensitivity( registration ) {\n\tconst window = this;\n\tconst { context, spec, callback, params, signalGenerator } = registration;\n\tconst cssSelectors = spec.filter( s => s.kind === 'css' );\n\tconst parseDot = selector => selector.match( /\\.([\\w-]+)/g )?.length ? [ 'class' ] : [];\n\tconst parseHash = selector => selector.match( /#([\\w-]+)/g )?.length ? [ 'id' ] : [];\n\tconst parse = selector => [ ...selector.matchAll( /\\[([^\\=\\]]+)(\\=[^\\]]+)?\\]/g ) ].map( x => x[ 1 ] ).concat( parseDot( selector ) ).concat( parseHash( selector ) );\n\tif ( !( registration.$attrs = Array.from( new Set( cssSelectors.filter( s => ( s + '' ).includes( '[' ) ).reduce( ( attrs, selector ) => attrs.concat( parse( selector + '' ) ), [] ) ) ) ).length ) return;\n\t// ---------\n\tconst entrants = new Set, exits = new Set;\n\tentrants.push = val => ( exits.delete( val ), entrants.add( val ) );\n\texits.push = val => ( entrants.delete( val ), exits.add( val ) );\n\tregistration.$deliveryCache = { entrants, exits };\n\t// ---------\n\treturn ( new AttrRealtime( context, window ) ).observe( registration.$attrs, _records => {\n\t\tconst records = new Map, getRecord = target => {\n\t\t\tif ( !records.has( target ) ) { records.set( target, { target, entrants: [], exits: [], type: 'static', event: null } ); }\n\t\t\treturn records.get( target );\n\t\t};\n\t\t// ---------\n\t\tconst matchesCache = new WeakMap;\n\t\tconst matches = node => {\n\t\t\tif ( !matchesCache.has( node ) ) { matchesCache.set( node, cssSelectors.some( s => node.matches( s + '' ) ) ); }\n\t\t\treturn matchesCache.get( node );\n\t\t};\n\t\t// ---------\n\t\tfor ( const _record of _records ) {\n\t\t\t[ 'entrants', 'exits' ].forEach( generation => {\n\t\t\t\tif ( params.generation && generation !== params.generation ) return;\n\t\t\t\tif ( registration.$deliveryCache[ generation ].has( _record.target ) || ( generation === 'entrants' ? !matches( _record.target ) : matches( _record.target ) ) ) return;\n\t\t\t\tregistration.$deliveryCache[ generation ].push( _record.target );\n\t\t\t\tgetRecord( _record.target )[ generation ].push( _record.target );\n\t\t\t\tgetRecord( _record.target ).event = _record.event;\n\t\t\t} );\n\t\t}\n\t\t// ---------\n\t\tfor ( const [ , record ] of records ) {\n\t\t\tconst flags = signalGenerator?.generate() || {};\n\t\t\tcallback( record, flags, context );\n\t\t}\n\t}, { subtree: params.subtree, timing: params.timing, eventDetails: params.eventDetails } );\n}\n\n/**\n * Dispatches a mutation record if it matches the observed.\n * \n * @param Object \t\t\tregistration \n * @param Object \t\t\trecord \n * \n * @returns Void\n */\nfunction dispatch( registration, _record ) {\n\tconst { context, spec, callback, params, signalGenerator, $deliveryCache } = registration;\n\t// ---------\n\tconst record = { ..._record, entrants: [], exits: [] };\n\tif ( !params.eventDetails ) { delete record.event; }\n\t[ 'entrants', 'exits' ].forEach( generation => {\n\t\tif ( params.generation && generation !== params.generation ) return;\n\t\tif ( spec.length ) {\n\t\t\trecord[ generation ] = nodesIntersection.call( this, spec, params.subtree === 'cross-roots', _record[ generation ], _record.event !== 'parse' );\n\t\t} else {\n\t\t\trecord[ generation ] = [ ..._record[ generation ] ];\n\t\t}\n\t\tif ( !$deliveryCache ) return;\n\t\tfor ( const node of record[ generation ] ) {\n\t\t\t$deliveryCache[ generation ].push( node );\n\t\t}\n\t} );\n\t// ---------\n\tif ( !record.entrants.length && !record.exits.length ) return;\n\tconst flags = signalGenerator?.generate() || {};\n\tcallback( record, flags, context );\n}\n\n/**\n * Aggregates instances of els in sources\n * \n * @param Array \t\t\tspec \n * @param Bool \t\t\t\tcrossRoots \n * @param Array \t\t\tsources \n * @param Bool \t\t\t\tdeepIntersect \n * \n * @returns \n */\nfunction nodesIntersection( spec, crossRoots, sources, deepIntersect ) {\n\tsources = Array.isArray( sources ) ? sources : [ ...sources ];\n\tconst match = ( sources, s ) => {\n\t\t// Filter out text nodes\n\t\tif ( s.type === 'selector' ) {\n\t\t\t// Is directly mutated...\n\t\t\tlet matches = s.isXpathAttr ? [] : sources.filter( source => s.kind === 'xpath' ? Util.xpathMatch( this, source, s + '' ) : source.matches && source.matches( s + '' ) );\n\t\t\t// Is contextly mutated...\n\t\t\tif ( deepIntersect || s.isXpathAttr ) {\n\t\t\t\tmatches = sources.reduce( ( collection, source ) => {\n\t\t\t\t\tif ( s.kind === 'xpath' ) { return [ ...collection, ...Util.xpathQuery( this, source, s, deepIntersect ) ]; }\n\t\t\t\t\treturn source.querySelectorAll ? [ ...collection, ...source.querySelectorAll( s + '' ) ] : collection;\n\t\t\t\t}, matches );\n\t\t\t}\n\t\t\tif ( matches.length ) return matches;\n\t\t} else {\n\t\t\t// Is directly mutated...\n\t\t\tif ( sources.includes( s.content ) || (\n\t\t\t\tdeepIntersect && sources.some( source => Util.containsNode( this/* window */, source, s.content, crossRoots ) )\n\t\t\t) ) { return [ s.content ]; }\n\t\t}\n\t};\n\t// Search can be expensive...\n\t// Multiple listeners searching the same thing in the same list?\n\tif ( !sources.$$searchCache ) { sources.$$searchCache = new Map; }\n\treturn spec.reduce( ( matches, s ) => {\n\t\tlet _matches;\n\t\tif ( sources.$$searchCache.has( s.content ) ) {\n\t\t\t_matches = sources.$$searchCache.get( s.content );\n\t\t} else {\n\t\t\t_matches = match( sources, s ) || [];\n\t\t\tif ( s.type === 'instance' ) {\n\t\t\t\tsources.$$searchCache.set( s.content, _matches );\n\t\t\t}\n\t\t}\n\t\treturn matches.concat( _matches );\n\t}, [] );\n}\n\n/**\n * Determines the event for a mutation record\n * \n * @param MutationRecord \t{ target, entrants, exits }\n * \n * @returns Object\n */\nfunction withEventDetails( { target, addedNodes, removedNodes } ) {\n\tlet window = this, event;\n\tevent = _arrFrom( addedNodes ).reduce( ( prev, node ) => prev || window.webqit.realdom.domInterceptionRecords?.get( node ), null );\n\tevent = _arrFrom( removedNodes ).reduce( ( prev, node ) => prev || window.webqit.realdom.domInterceptionRecords?.get( node ), event );\n\tevent = event || window.document.readyState === 'loading' && 'parse' || 'mutation';\n\treturn { target, entrants: addedNodes, exits: removedNodes, type: 'observation', event };\n}\n\n/**\n * DOM intersection engine.\n * \n * @param String \t\t\ttiming \n * @param Function \t\t\tcallback \n * \n * @returns \n */\nfunction domInterception( timing, callback ) {\n\tconst window = this;\n\tconst { webqit, document, Node, CharacterData, Element, HTMLElement, HTMLTemplateElement, DocumentFragment } = window;\n\tif ( !webqit.realdom.domInterceptionHooks ) { Object.defineProperty( webqit.realdom, 'domInterceptionHooks', { value: new Map } ); }\n\tif ( !webqit.realdom.domInterceptionNoRecurse ) { Object.defineProperty( webqit.realdom, 'domInterceptionNoRecurse', { value: new Map } ); }\n\tif ( !webqit.realdom.domInterceptionHooks.has( timing ) ) { webqit.realdom.domInterceptionHooks.set( timing, new Set ); }\n\twebqit.realdom.domInterceptionHooks.get( timing ).add( callback );\n\tconst rm = () => webqit.realdom.domInterceptionHooks.get( timing ).delete( callback );\n\tif ( webqit.realdom.domInterceptionHooks?.intercepting ) return rm;\n\tconsole.warn( `DOM mutation APIs are now being intercepted.` );\n\twebqit.realdom.domInterceptionHooks.intercepting = true;\n\tObject.defineProperty( webqit.realdom, 'domInterceptionRecords', { value: new Map } );\n\n\t// No recursion helper\n\tconst noRecurse = ( node, method, callback ) => {\n\t\twebqit.realdom.domInterceptionNoRecurse.set( node, method );\n\t\tconst returnValue = callback();\n\t\twebqit.realdom.domInterceptionNoRecurse.delete( node );\n\t\treturn returnValue;\n\t};\n\n\t// Interception hooks\n\tconst intercept = ( record, defaultAction ) => {\n\t\trecord.entrants.concat( record.exits ).forEach( node => {\n\t\t\tclearTimeout( webqit.realdom.domInterceptionRecords.get( node )?.timeout ); // Clear any previous that's still active\n\t\t\twebqit.realdom.domInterceptionRecords.set( node, record.event ); // Main: set event details... and next to timeout details\n\t\t\tconst timeout = setTimeout( () => { webqit.realdom.domInterceptionRecords.delete( node ); }, 0 );\n\t\t\tObject.defineProperty( record.event, 'timeout', { value: timeout, configurable: true } );\n\t\t} );\n\t\twebqit.realdom.domInterceptionHooks.get( 'intercept' )?.forEach( callback => callback( record ) );\n\t\tconst returnValue = defaultAction();\n\t\twebqit.realdom.domInterceptionHooks.get( 'sync' )?.forEach( callback => callback( record ) );\n\t\treturn returnValue;\n\t};\n\n\t// Intercept DOM mutation methods\n\tconst _apiNames = {\n\t\t// Note the order\n\t\tShadowRoot: [ 'innerHTML', 'setHTMLUnsafe' ],\n\t\tDocumentFragment: [ 'replaceChildren', 'append', 'prepend' ],\n\t\tDocument: [ 'replaceChildren', 'append', 'prepend' ],\n\t\tHTMLElement: [ 'outerText', 'innerText' ],\n\t\tElement: [ 'append', 'prepend', 'before', 'after', 'insertAdjacentElement', 'insertAdjacentHTML', 'remove', 'replaceChildren', 'replaceWith', 'setHTMLUnsafe', 'innerHTML', 'outerHTML' ],\n\t\tCharacterData: [ 'before', 'after', 'remove', 'replaceWith' ],\n\t\tNode: [ 'insertBefore', 'replaceChild', 'removeChild', 'appendChild', 'textContent', 'nodeValue' ],\n\t};\n\tconst _apiOriginals = {\n\t\t// Note the order\n\t\tShadowRoot: Object.create( null ), // extends DocumentFragment\n\t\tDocumentFragment: Object.create( null ), // extends Node\n\t\tDocument: Object.create( null ), // extends Node\n\t\tHTMLElement: Object.create( null ), // extends Element,\n\t\tElement: Object.create( null ), // extends Node\n\t\tCharacterData: Object.create( null ), // extends Node\n\t\tNode: Object.create( null ),\n\t};\n\n\tconst _apiNamesUnique = new Set( Object.values( _apiNames ).reduce( ( all, apis ) => all.concat( apis ), [] ) );\n\t_apiNamesUnique.forEach( apiName => {\n\t\t\n\t\tObject.keys( _apiNames ).forEach( DOMClassName => {\n\t\t\tif ( !_apiNames[ DOMClassName ].includes( apiName ) ) return;\n\t\t\tconst _apiOriginal = Object.getOwnPropertyDescriptor( window[ DOMClassName ].prototype, apiName );\n\t\t\tif ( !_apiOriginal ) return; // Typically: Element:setHTMLUnsafe\n\t\t\tObject.defineProperty( window[ DOMClassName ].prototype, apiName, 'value' in _apiOriginal ? { ..._apiOriginal, value: method } : { ..._apiOriginal, set: setter } );\n\t\t\t_apiOriginals[ DOMClassName ][ apiName ] = _apiOriginal;\n\t\t} );\n\n\t\tfunction method( ...args ) {\n\t\t\tconst DOMClassName = Object.keys( _apiOriginals ).find( name => this instanceof window[ name ] && ( apiName in _apiOriginals[ name ] ) );\n\t\t\tconst $apiOriginals = _apiOriginals[ DOMClassName ];\n\t\t\t// Instance of Node interface? Abort!\n\t\t\tlet exec = () => $apiOriginals[ apiName ].value.call( this, ...args );\n\t\t\tif ( webqit.realdom.domInterceptionNoRecurse.get( this ) === apiName ) return exec();\n\t\t\t// --------------\n\t\t\t// Obtain exits and entrants\n\t\t\tlet exits = [], entrants = [], target = this;\n\t\t\tif ( [ 'insertBefore' ].includes( apiName ) ) {\n\t\t\t\tentrants = [ args[ 0 ] ];\n\t\t\t} else if ( [ 'insertAdjacentElement', 'insertAdjacentHTML' ].includes( apiName ) ) {\n\t\t\t\tentrants = [ args[ 1 ] ];\n\t\t\t\tif ( [ 'beforebegin', 'afterend' ].includes( args[ 0 ] ) ) {\n\t\t\t\t\ttarget = this.parentNode;\n\t\t\t\t}\n\t\t\t} else if ( [ 'setHTMLUnsafe', 'replaceChildren' ].includes( apiName ) ) {\n\t\t\t\texits = [ ...this.childNodes ];\n\t\t\t\tentrants = apiName === 'replaceChildren' ? [ ...args ] : [ args[ 0 ] ];\n\t\t\t} else if ( [ 'replaceWith', 'remove' ].includes( apiName ) ) {\n\t\t\t\texits = [ this ];\n\t\t\t\tentrants = apiName === 'replaceWith' ? [ ...args ] : [];\n\t\t\t\ttarget = this.parentNode;\n\t\t\t} else if ( [ 'replaceChild' ].includes( apiName ) ) {\n\t\t\t\texits = [ args[ 1 ] ];\n\t\t\t\tentrants = [ args[ 0 ] ];\n\t\t\t} else if ( [ 'removeChild' ].includes( apiName ) ) {\n\t\t\t\texits = [ ...args ];\n\t\t\t} else {\n\t\t\t\t// 'before', 'after', 'append', 'prepend', 'appendChild'\n\t\t\t\tentrants = [ ...args ];\n\t\t\t\tif ( [ 'before', 'after' ].includes( apiName ) ) {\n\t\t\t\t\ttarget = this.parentNode;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// --------------\n\t\t\t// Parse HTML to entrants\n\t\t\tlet apiNameFinal = apiName;\n\t\t\tif ( [ 'insertAdjacentHTML', 'setHTMLUnsafe' ].includes( apiName ) ) {\n\t\t\t\tlet tempNodeName = this.nodeName;\n\t\t\t\tif ( apiName === 'insertAdjacentHTML' && [ 'beforebegin', 'afterend' ].includes( args[ 0 ] ) ) {\n\t\t\t\t\t// We can't handle this... and this is going to throw afterall\n\t\t\t\t\tif ( !this.parentNode ) return $apiOriginals[ apiName ].value.call( this, ...args );\n\t\t\t\t\ttempNodeName = this.parentNode.nodeName;\n\t\t\t\t}\n\t\t\t\tconst temp = document.createElement( tempNodeName.includes( '-' )/* custom-element | #document-fragment */ ? 'div' : tempNodeName );\n\t\t\t\t$apiOriginals.setHTMLUnsafe.value.call( temp, entrants[ 0 ], apiName === 'setHTMLUnsafe' ? args[ 1 ] : {} );\n\t\t\t\tentrants = [ ...temp.childNodes ];\n\t\t\t\t// --------------  \n\t\t\t\tif ( apiName === 'insertAdjacentHTML' ) {\n\t\t\t\t\tapiNameFinal = 'insertAdjacentElement';\n\t\t\t\t\targs[ 1 ] = new DocumentFragment;\n\t\t\t\t\tnoRecurse( args[ 1 ], 'append', () => args[ 1 ].append( ...temp.childNodes ) );\n\t\t\t\t} else {\n\t\t\t\t\tapiNameFinal = 'replaceChildren';\n\t\t\t\t\targs = [ ...temp.childNodes ];\n\t\t\t\t}\n\t\t\t}\n\t\t\t// --------------\n\t\t\tif ( !target ) return exec();\n\t\t\tconst record = { target, entrants, exits, type: 'interception', event: [ this, apiName ] };\n\t\t\treturn intercept( record, () => {\n\t\t\t\treturn $apiOriginals[ apiNameFinal ].value.call( this, ...args );\n\t\t\t} );\n\t\t}\n\n\t\tfunction setter( value ) {\n\t\t\tconst DOMClassName = Object.keys( _apiOriginals ).find( name => this instanceof window[ name ] && ( apiName in _apiOriginals[ name ] ) );\n\t\t\tconst $apiOriginals = _apiOriginals[ DOMClassName ];\n\t\t\t// Instance of Node interface? Abort!\n\t\t\tlet exec = () => $apiOriginals[ apiName ].set.call( this, value );\n\t\t\tif ( this instanceof HTMLScriptElement || webqit.realdom.domInterceptionNoRecurse.get( this ) === apiName ) return exec();\n\t\t\t// --------------\n\t\t\t// Obtain exits and entrants\n\t\t\tlet exits = [], entrants = [], target = this;\n\t\t\tif ( [ 'outerHTML', 'outerText' ].includes( apiName ) ) {\n\t\t\t\texits = [ this ];\n\t\t\t\ttarget = this.parentNode;\n\t\t\t} else {\n\t\t\t\t// 'innerHTML', 'innerText', 'textContent', 'nodeValue'\n\t\t\t\tif ( this instanceof HTMLTemplateElement ) {\n\t\t\t\t\ttarget = this.content;\n\t\t\t\t\texits = [ ...this.content.childNodes ];\n\t\t\t\t} else {\n\t\t\t\t\texits = [ ...this.childNodes ];\n\t\t\t\t}\n\t\t\t}\n\t\t\t// --------------\n\t\t\t// Parse HTML to nodes\n\t\t\tif ( [ 'outerHTML', 'innerHTML' ].includes( apiName ) ) {\n\t\t\t\tlet tempNodeName = this.nodeName;\n\t\t\t\tif ( apiName === 'outerHTML' ) {\n\t\t\t\t\t// We can't handle this... and this is going to throw afterall\n\t\t\t\t\tif ( !this.parentNode ) return exec();\n\t\t\t\t\ttempNodeName = this.parentNode.nodeName;\n\t\t\t\t}\n\t\t\t\tconst temp = document.createElement( tempNodeName.includes( '-' )/* custom-element | #document-fragment */ ? 'div' : tempNodeName );\n\t\t\t\tnoRecurse( temp, apiName, () => temp[ apiName ] = value );\n\t\t\t\tentrants = this instanceof HTMLTemplateElement ? [ ...temp.content.childNodes ] : [ ...temp.childNodes ];\n\t\t\t\tif ( ( this instanceof HTMLTemplateElement && this.hasAttribute( 'src' ) ) || this instanceof ShadowRoot ) {\n\t\t\t\t\tconst getScripts = nodes => nodes.reduce( ( scripts, el ) => {\n\t\t\t\t\t\tif ( el instanceof HTMLScriptElement ) return scripts.concat( el );\n\t\t\t\t\t\tif ( el instanceof HTMLTemplateElement ) return scripts.concat( getScripts( [ el.content ] ) );\n\t\t\t\t\t\tscripts = scripts.concat( getScripts( [ ...( el.querySelectorAll?.( 'template' ) || [] ) ].map( t => t.content ) ) );\n\t\t\t\t\t\treturn scripts.concat( ...( el.querySelectorAll?.( 'script' ) || [] ) );\n\t\t\t\t\t}, [] );\n\t\t\t\t\tfor ( const script of getScripts( entrants ) ) {\n\t\t\t\t\t\tif (this instanceof ShadowRoot) {\n\t\t\t\t\t\t\tscript.setAttribute('data-handling', 'manual');\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst $script = document.createElement( 'script' );\n\t\t\t\t\t\t[ ...script.attributes ].forEach( attr => $script.setAttribute( attr.name, attr.value ) );\n\t\t\t\t\t\t$script.textContent = script.textContent;\n\t\t\t\t\t\tnoRecurse( script, 'replaceWith', () => script.replaceWith( $script ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// -------------- \n\t\t\t\tif ( apiName === 'outerHTML' ) {\n\t\t\t\t\tvalue = new DocumentFragment;\n\t\t\t\t\tnoRecurse( value, 'append', () => value.append( ...entrants ) );\n\t\t\t\t\texec = () => noRecurse( this, 'replaceWith', () => Element.prototype.replaceWith.call( this, value ) );\n\t\t\t\t} else {\n\t\t\t\t\tif ( this instanceof HTMLTemplateElement ) {\n\t\t\t\t\t\texec = () => noRecurse( this.content, 'replaceChildren', () => this.content.replaceChildren( ...entrants ) );\n\t\t\t\t\t} else {\n\t\t\t\t\t\texec = () => noRecurse( this, 'replaceChildren', () => Element.prototype.replaceChildren.call( this, ...entrants ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// --------------\n\t\t\tconst record = { target, entrants, exits, type: 'interception', event: [ this, apiName ] };\n\t\t\treturn intercept( record, exec );\n\t\t}\n\t} );\n\n\treturn rm;\n}\n", "\r\n/**\r\n * Applies all supported polyfills\r\n */\r\nexport default function() {\r\n    CSS_escape.call( this );\r\n    Node_isConnected.call( this );\r\n    Element_matches.call( this );\r\n}\r\n\r\n/**\r\n * Polyfills the window.CSS object.\r\n *  \r\n * @return void\r\n */\r\nexport function CSS_escape() {\r\n    const window = this;\r\n    if ( !window.CSS ) { window.CSS = {} }\r\n    if ( !window.CSS.escape ) {\r\n        /**\r\n         * Polyfills the window.CSS.escape() function.\r\n         *  \r\n         * @param string str \r\n         * \r\n         * @return string\r\n         */\r\n        window.CSS.escape = str => str.replace( /([\\:@\\~\\$\\&])/g, '\\\\$1' );\r\n    }\r\n}\r\n\r\n/**\r\n * Polyfills the Node.prototype.isConnected property\r\n * \r\n * @see MDN\r\n  *  \r\n * @return bool\r\n*/\r\nexport function Node_isConnected() {\r\n    const window = this;\r\n    if ( !( 'isConnected' in window.Node.prototype ) ) {\r\n        Object.defineProperty( window.Node.prototype, 'isConnected', { get: function() {\r\n            return !this.ownerDocument || !(\r\n                this.ownerDocument.compareDocumentPosition( this )\r\n                & this.DOCUMENT_POSITION_DISCONNECTED);\r\n        } } );\r\n    }\r\n}\r\n\r\n/**\r\n * Polyfills the Element.prototype.matches() method\r\n * \r\n * @see MDN\r\n  *  \r\n * @return void\r\n*/\r\nexport function Element_matches() {\r\n    const window = this;\r\n    if ( !window.Element.prototype.matches ) {\r\n        window.Element.prototype.matches = \r\n        window.Element.prototype.matchesSelector || \r\n        window.Element.prototype.mozMatchesSelector ||\r\n        window.Element.prototype.msMatchesSelector || \r\n        window.Element.prototype.oMatchesSelector || \r\n        window.Element.prototype.webkitMatchesSelector ||\r\n        function( s ) {\r\n            var matches = ( this.document || this.ownerDocument ).querySelectorAll( s ),\r\n                i = matches.length;\r\n            while ( --i >= 0 && matches.item( i ) !== this ) {}\r\n            return i > -1;            \r\n        }\r\n    }\r\n}", "\r\n/**\r\n * @imports\r\n */\r\nimport { _isNumeric, _isString, _isFunction } from '@webqit/util/js/index.js';\r\nimport { _set } from '@webqit/util/obj/index.js';\r\nimport Scheduler from './Scheduler.js';\r\nimport DOMRealtime from './realtime/DOMRealtime.js';\r\nimport AttrRealtime from './realtime/AttrRealtime.js';\r\nimport polyfill from './polyfills.js';\r\n\r\nexport default function() {\r\n    const window = this;\r\n    if ( !window.webqit ) window.webqit = {};\r\n    if ( window.webqit.realdom ) return window.webqit.realdom;\r\n    window.webqit.realdom = {};\r\n    polyfill.call( window );\r\n    // ------\r\n    window.webqit.realdom.meta = ( ...args ) => meta.call( window, ...args );\r\n    window.webqit.realdom.ready = ( ...args ) => ready.call( window, ...args );\r\n    // ------\r\n    window.webqit.realdom.realtime = ( context, namespace = 'dom' ) => {\r\n        if ( namespace === 'dom' ) return new DOMRealtime( context, window );\r\n        if ( namespace === 'attr' ) return new AttrRealtime( context, window );\r\n    };\r\n    // ------\r\n    const scheduler = new Scheduler( window );\r\n    window.webqit.realdom.schedule = ( type, ...args ) => {\r\n        return scheduler[ `on${ type }` ]( ...args );\r\n    };\r\n    window.webqit.realdom.synthesizeWhile = ( ...args ) => {\r\n        return scheduler.synthesizeWhile( ...args );\r\n    };\r\n    // ------\r\n    return window.webqit.realdom;\r\n}\r\n\r\n\r\n/**\r\n * DOM-ready listeners.\r\n * \r\n * @param Function\t    \t\tcallback\r\n * \r\n * @return void\r\n */\r\nfunction ready( ...args ) {\r\n    let timing = 'interactive', callback;\r\n    if ( _isString( args[ 0 ] ) ) {\r\n        timing = args[ 0 ];\r\n        if ( _isFunction( args[ 1 ] ) ) { callback = args[ 1 ]; }\r\n    } else if ( _isFunction( args[ 0 ] ) ) { callback = args[ 0 ]; }\r\n    // --------------\r\n    const timings = { interactive: [ 'interactive', 'complete' ], complete: [ 'complete' ], };\r\n    if ( !timings[ timing ] ) throw new Error( `Invalid ready-state timing: ${ timing }.` );\r\n\tconst window = this;\r\n    // --------------\r\n    if ( !callback ) {\r\n        if ( !window.webqit.realdom.readyStatePromises ) {\r\n            window.webqit.realdom.readyStatePromises = {\r\n                interactive: new Promise( res => ready.call( this, 'interactive', res ) ),\r\n                complete: new Promise( res => ready.call( this, 'complete', res ) ),\r\n            };\r\n        }\r\n        return window.webqit.realdom.readyStatePromises[ timing ];\r\n    }\r\n    // --------------\r\n\tif ( timings[ timing ].includes( window.document.readyState ) ) return callback( window );\r\n    if ( !window.webqit.realdom.readyStateCallbacks ) {\r\n        window.webqit.realdom.readyStateCallbacks = { interactive: [], complete: [] };\r\n        window.document.addEventListener( 'readystatechange', () => {\r\n            const state = window.document.readyState;\r\n            for ( const callback of window.webqit.realdom.readyStateCallbacks[ state ].splice( 0 ) ) {\r\n                callback( window );\r\n            }\r\n        }, false );\r\n    }\r\n    window.webqit.realdom.readyStateCallbacks[ timing ].push( callback );\r\n}\r\n\r\n/**\r\n * A webqit's meta tag props reader.\r\n *  \r\n * @param String name\r\n * \r\n * @return Object\r\n */\r\nfunction meta( name ) {\r\n    const window = this;\r\n    let _content = {}, _el;\r\n    if ( _el = window.document.querySelector( `meta[name=\"${ name }\"]` ) ) {\r\n        _content = ( _el.content || '' ).split( ';' ).filter( v => v ).reduce( ( _metaVars, directive ) => {\r\n            const directiveSplit = directive.split( '=' ).map( d => d.trim() );\r\n            _set( _metaVars, directiveSplit[ 0 ].split( '.' ), directiveSplit[ 1 ] === 'true' ? true : (directiveSplit[ 1 ] === 'false' ? false : (\r\n                    _isNumeric( directiveSplit[ 1 ] ) ? parseInt( directiveSplit[ 1 ] ) : directiveSplit[ 1 ]\r\n                ) )\r\n            );\r\n            return _metaVars;\r\n        }, {} );\r\n    }\r\n    return { get name() { return name; }, get content() { return _el.content; }, json() {\r\n\t\treturn JSON.parse( JSON.stringify( _content ) );\r\n    } };\r\n}", "\n/**\n * Converts a string to title case.\n *\n * @param string \tstr\n * @param bool \t\tstrict\n *\n * @return string\n */\nexport default function(str, strict) {\n\tif (typeof str !== 'string') {\n\t\treturn str;\n\t}\n\treturn str.replace(/\\w\\S*/g,  function(txt) { return txt.charAt(0).toUpperCase() + ((typeof strict !== undefined && strict) ? txt.substr(1).toLowerCase() : txt.substr(1)); })\n};\n", "\n/**\n * @imports\n */\nimport realdomInit from '@webqit/realdom';\nimport { _wq as __wq } from '@webqit/util/js/index.js';\nimport { _merge } from '@webqit/util/obj/index.js';\nimport { _toTitle } from '@webqit/util/str/index.js';\n\nexport const _wq = ( target, ...args ) => __wq( target, 'oohtml', ...args );\n\nexport const env = {};\n\nexport function _init( name, $config, $defaults ) {\n    const window = this, realdom = realdomInit.call( window );\n    env.window = window;\n    if ( !window.webqitConfig ) {\n        window.webqitConfig = realdom.meta( 'webqit' ).json();\n    }\n    window.webqit || ( window.webqit = {} );\n    window.webqit.oohtml || ( window.webqit.oohtml = {} );\n    window.webqit.oohtml.configs || ( window.webqit.oohtml.configs = {} );\n    // ---------------------\n    const configKey = name.toUpperCase().replace( '-', '_' );\n    if ( !window.webqit.oohtml.configs[ configKey ] ) {\n        window.webqit.oohtml.configs[ configKey ] =  {};\n        const config = window.webqit.oohtml.configs[ configKey ];\n        _merge( 2, config, $defaults, $config, realdom.meta( name ).json() );\n        if ( window.webqitConfig.prefix ) {\n            Object.keys( config ).forEach( main => {\n                Object.keys( config[ main ] ).forEach( key => {\n                    if ( main === 'api' && typeof config[ main ][ key ] === 'string' ) {\n                        config[ main ][ key ] = `${ window.webqitConfig.prefix }${ _toTitle( config[ main ][ key ] ) }`\n                    } else if ( [ 'attr', 'elements' ].includes( main ) && config[ main ][ key ]?.startsWith( 'data-' ) === false ) {\n                        config[ main ][ key ] = `${ window.webqitConfig.prefix }-${ config[ main ][ key ] }`\n                    }\n                } );\n            } );\n        }\n    }\n    // ---------------------\n    return { config: window.webqit.oohtml.configs[ configKey ], realdom, window };\n}\n\nexport function getInternalAttrInteraction( node, attrName ) {\n\treturn __wq( node, 'realdom', 'internalAttrInteractions' ).get( attrName );\n}\nexport function internalAttrInteraction( node, attrName, callback ) {\n\tconst savedAttrLocking = __wq( node, 'realdom', 'internalAttrInteractions' ).get( attrName );\n\t__wq( node, 'realdom', 'internalAttrInteractions' ).set( attrName, true );\n\tconst value = callback();\n\t__wq( node, 'realdom', 'internalAttrInteractions' ).set( attrName, savedAttrLocking );\n\treturn value;\n}\n\nexport function _compare( a, b, depth = 1, objectSizing = false ) {\n    if ( depth && typeof a === 'object' && a && typeof b === 'object' && b && ( !objectSizing || Object.keys( a ).length === Object.keys( b ).length ) ) {\n        for ( let key in a ) {\n            if ( !_compare( a[ key ], b[ key ], depth - 1, objectSizing ) ) return false;\n        }\n        return true;\n    }\n    if ( Array.isArray( a ) && Array.isArray( b ) && a.length === b.length ) {\n        return ( b = b.slice( 0 ).sort() ) && a.slice( 0 ).sort().every( ( valueA, i ) => valueA === b[ i ] );\n    }\n    return a === b;\n}\n\nexport function _splitOuter( str, delim ) {\n    return [ ...str ].reduce( ( [ quote, depth, splits ], x ) => {\n        if ( !quote && depth === 0 && ( Array.isArray( delim ) ? delim : [ delim ] ).includes( x ) ) {\n            return [ quote, depth, [ '' ].concat( splits ) ];\n        }\n        if ( !quote && [ '(', '[', '{' ].includes( x ) && !splits[ 0 ].endsWith( '\\\\' ) ) depth++;\n        if ( !quote && [ ')', ']', '}' ].includes( x ) && !splits[ 0 ].endsWith( '\\\\' ) ) depth--;\n        if ( [ '\"', \"'\", '`' ].includes( x ) && !splits[ 0 ].endsWith( '\\\\' ) ) {\n            quote = quote === x ? null : ( quote || x );\n        }\n        splits[ 0 ] += x;\n        return [ quote, depth, splits ]\n    }, [ null, 0, [ '' ] ] )[ 2 ].reverse();\n}\n\n// Unique ID generator\nexport const _uniqId = () => ( 0 | Math.random() * 9e6 ).toString( 36 );\n\n// Hash of anything generator\nconst hashTable = new Map;\nexport function _toHash( val ) {\n    let hash;\n    if ( !( hash = hashTable.get( val ) ) ) {\n        hash = _uniqId();\n        hashTable.set( val, hash );\n    }\n    return hash;\n}\n\n// Value of any hash\nexport function _fromHash( hash ) {\n    let val;\n    hashTable.forEach( ( _hash, _val ) => {\n        if ( _hash === hash ) val = _val;\n    } );\n    return val;\n}", "import { resolveParams } from '@webqit/use-live/params';\nimport { _wq, _init, _toHash, _fromHash } from '../util.js';\n\nexport default function init({ advanced = {}, ...$config }) {\n    const { config, window } = _init.call( this, 'scoped-js', $config, {\n        script: { retention: 'retain', mimeTypes: 'module|text/javascript|application/javascript', timing: 'auto' },\n        api: { scripts: 'scripts' },\n        advanced: resolveParams(advanced),\n    } );\n    const customTypes = Array.isArray( config.script.mimeTypes ) ? config.script.mimeTypes : config.script.mimeTypes.split( '|' ).filter( t => t );\n    config.scriptSelector =  customTypes.map( t => `script[type=\"${ window.CSS.escape( t ) }\"]:not([oohtmlignore])` ).concat(`script:not([type])`).join( ',' );\n    window.webqit.oohtml.Script = {\n        compileCache: [ new Map, new Map, ],\n        execute: execute.bind( window, config ),\n    };\n    exposeAPIs.call( window, config );\n    realtime.call( window, config );\n}\n\nfunction exposeAPIs( config ) {\n    const window = this, { webqit: { nextKeyword, matchPrologDirective } } = window;\n    const scriptsMap = new Map;\n    if ( config.api.scripts in window.Element.prototype ) { throw new Error( `The \"Element\" class already has a \"${ config.api.scripts }\" property!` ); }\n    [ window.ShadowRoot.prototype, window.Element.prototype ].forEach( proto => {\n        Object.defineProperty( proto, config.api.scripts, { get: function() {\n            if ( !scriptsMap.has( this ) ) { scriptsMap.set( this, [] ); }\n            return scriptsMap.get( this );\n        }, } );\n    } );\n    Object.defineProperties( window.HTMLScriptElement.prototype, {\n        scoped: {\n            configurable: true,\n            get() { return this.hasAttribute( 'scoped' ); },\n            set( value ) { this.toggleAttribute( 'scoped', value ); },\n        },\n        live: {\n            configurable: true,\n            get() {\n                if (this.liveProgramHandle) return true;\n                const scriptContents = nextKeyword(this.oohtml__textContent || this.textContent || '', 0, 0);\n                return matchPrologDirective(scriptContents, true);\n            },\n        },\n    } );\n}\n\n// Script runner\nasync function execute( config, execHash ) {\n    const window = this, { realdom } = window.webqit;\n    const exec = _fromHash( execHash );\n    if ( !exec ) throw new Error( `Argument must be a valid exec hash.` );\n    const { script, compiledScript, thisContext } = exec;\n    // Honour retention flag\n    if ( config.script.retention === 'dispose' ) {\n        script.remove();\n    } else if ( config.script.retention === 'hidden' ) {\n        script.textContent = `\"source hidden\"`;\n    } else {\n        setTimeout(async () => {\n            script.textContent = await compiledScript.toString();\n        }, 0); //Anti-eval hack\n    }\n    // Execute and save state\n    const varScope = script.scoped ? thisContext : script.getRootNode();\n    if ( !_wq( varScope ).has( 'scriptEnv' ) ) {\n        _wq( varScope ).set( 'scriptEnv', Object.create( null ) );\n    }\n    const liveProgramHandle = await ( await compiledScript.bind( thisContext, _wq( varScope ).get( 'scriptEnv' ) ) ).execute();\n    if ( script.live ) { Object.defineProperty( script, 'liveProgramHandle', { value: liveProgramHandle } ); }\n    realdom.realtime( window.document ).observe( script, () => {\n        if ( script.live ) { liveProgramHandle.abort(); }\n        if ( thisContext instanceof window.Element ) { thisContext[ config.api.scripts ]?.splice( thisContext[ config.api.scripts ].indexOf( script, 1 ) ); }\n    }, { id: 'scoped-js:script-exits', subtree: 'cross-roots', timing: 'sync', generation: 'exits' } );\n}\n\nfunction realtime( config ) {\n    const inBrowser = Object.getOwnPropertyDescriptor( globalThis, 'window' )?.get?.toString().includes( '[native code]' ) ?? false;\n    const window = this, { webqit: { oohtml, realdom } } = window;\n    if ( !window.HTMLScriptElement.supports ) { window.HTMLScriptElement.supports = type => [ 'text/javascript', 'application/javascript' ].includes( type ); }\n    const handled = new WeakSet;\n    realdom.realtime( window.document ).query( config.scriptSelector, record => {\n        record.entrants.forEach( script => {\n            if ( handled.has( script ) || script.hasAttribute('oohtmlno') || (!inBrowser && !script.hasAttribute('ssr')) ) return;\n            // Do compilation\n            const compiledScript = compileScript.call( window, config, script );\n            if ( !compiledScript ) return;\n            handled.add( script );\n            // Run now!!!\n            const thisContext = script.scoped ? script.parentNode || record.target : ( script.type === 'module' ? undefined : window );\n            if ( script.scoped ) { thisContext[ config.api.scripts ].push( script ); }\n            const execHash = _toHash( { script, compiledScript, thisContext } );\n            const manualHandling = record.type === 'query' || ( script.type && !window.HTMLScriptElement.supports( script.type ) ) || script.getAttribute('data-handling') === 'manual';\n            if ( manualHandling || config.script.timing === 'manual' ) { oohtml.Script.execute( execHash ); } else {\n                script.textContent = `webqit.oohtml.Script.execute( '${ execHash }' );`;\n            }\n        } );\n    }, { id: 'scoped-js:script-entries', live: true, subtree: 'cross-roots', timing: 'intercept', generation: 'entrants', eventDetails: true } );\n    // ---\n}\n\nfunction compileScript( config, script ) {\n    const window = this, { webqit: { oohtml, LiveScript, AsyncLiveScript, LiveModule } } = window;\n    \n    let textContent = script.textContent.trim();\n    if ( textContent.startsWith( '/*@oohtml*/if(false){' ) && textContent.endsWith( '}/*@oohtml*/' ) ) {\n        textContent = textContent.slice( 21, -12 );\n        Object.defineProperty( script, 'oohtml__textContent', { value: textContent } );\n    }\n    if ( !textContent.trim().length ) return;\n\n    const sourceHash = _toHash( textContent );\n    const compileCache = oohtml.Script.compileCache[ script.live ? 0 : 1 ];\n    let compiledScript;\n    if ( !( compiledScript = compileCache.get( sourceHash ) ) ) {\n        const { parserParams, compilerParams, runtimeParams } = config.advanced;\n        compiledScript = new ( script.type === 'module' ? LiveModule : ( LiveScript || AsyncLiveScript ) )( textContent, {\n            liveMode: script.live,\n            exportNamespace: `#${ script.id }`,\n            fileName: `${ window.document.url?.split( '#' )?.[ 0 ] || '' }#${ script.id }`,\n            parserParams,\n            compilerParams,\n            runtimeParams,\n        } );\n        compileCache.set( sourceHash, compiledScript );\n    }\n    return compiledScript;\n}\n\nexport function idleCompiler( node ) {\n    const window = this, { webqit: { oohtml: { configs: { SCOPED_JS: config } } } } = window;\n    [ ...( node?.querySelectorAll( config.scriptSelector ) || [] ) ].forEach( script => {\n        compileScript.call( window, config, script );\n    } );\n}", "\n/**\n * @imports\n */\nimport init from './index.js';\n\n/**\n * @init\n */\ninit.call( window );\n"],
  "mappings": ";AAAO,0BAA2B,YAAa;AAC3C,MAAI,WAAW,SAAS,EAAE,eAAe,mBAAmB,aAAa;AACzE,SAAO,YAAY,WAAW,MAAM,GAAI;AACpC,UAAM;AAAA,MACF,eAAe,iBAAiB,CAAC;AAAA,MACjC,mBAAmB,EAAE,kBAAkB,oBAAoB,CAAC,GAAG,wBAAwB,0BAA0B,CAAC,MAAM,uBAAuB,CAAC;AAAA,MAChJ,cAAc,gBAAgB,CAAC;AAAA,QAC/B;AACJ,aAAS;AAAA,MACL,eAAe,EAAE,GAAG,OAAO,eAAe,GAAG,eAAe;AAAA,MAC5D,mBAAmB,EAAE,GAAG,OAAO,mBAAmB,kBAAkB,CAAE,GAAG,OAAO,kBAAkB,kBAAkB,GAAG,iBAAkB,GAAG,wBAAwB,CAAE,GAAG,OAAO,kBAAkB,wBAAwB,GAAG,uBAAwB,GAAG,GAAG,mBAAmB;AAAA,MAC9Q,cAAc,EAAE,GAAG,OAAO,cAAc,GAAG,cAAc;AAAA,IAC7D;AACA,QAAK,WAAW,SAAU;AAAA,IAAqC;AAAA,EACnE;AACA,SAAO;AACX;AACO,IAAM,eAAe;AAAA,EACxB,aAAa;AAAA,EACb,4BAA4B;AAAA,EAC5B,2BAA2B;AAAA,EAC3B,yBAAyB;AAAA,EACzB,gBAAgB;AAAA,EAChB,WAAW;AACf;AACO,IAAM,oBAAoB;AAAA,EAC7B,kBAAkB,CAAE,aAAa,UAAY;AAAA,EAC7C,wBAAwB,CAAC;AAAA,EACzB,gBAAgB;AAAA,EAChB,WAAW;AAAA,EACX,SAAS;AACb;AACO,IAAM,gBAAgB;AAAA,EACzB,YAAY;AAChB;;;AC1Be,0BAAS,KAAK;AAC5B,SAAO,CAAC,MAAM,QAAQ,GAAG,KAAK,OAAO,QAAQ,YAAY;AAC1D;;;ACFe,yBAAS,KAAK;AAC5B,SAAO,MAAM,QAAQ,GAAG;AACzB;;;ACDe,gCAAS,KAAK;AAC5B,SAAO,OAAO,QAAQ;AACvB;;;ACHe,wBAAS,KAAK;AAC5B,SAAO,QAAQ,QAAQ,QAAQ;AAChC;;;ACFe,6BAAS,KAAK;AAC5B,SAAO,UAAU,UAAW,SAAQ,UAAa,OAAO,QAAQ;AACjE;;;ACIe,8BAAS,KAAK;AAC5B,SAAO,MAAM,QAAQ,GAAG,KAAM,OAAO,QAAQ,YAAY,OAAQ,uBAAgB,GAAG;AACrF;;;ACCe,yBAAS,KAAK;AAC5B,SAAO,eAAQ,GAAG,KAAK,oBAAa,GAAG,KAAK,QAAQ,SAAS,QAAQ,KAChE,qBAAc,GAAG,KAAK,CAAC,OAAO,KAAK,GAAG,EAAE;AAC9C;;;ACPe,4BAAS,KAAK;AAC5B,SAAO,uBAAgB,GAAG,KAAM,OAAO,CAAC,EAAE,SAAS,KAAK,GAAG,MAAM;AAClE;;;ACPe,0BAAS,KAAK;AAC5B,SAAO,eAAe,UAAW,OAAO,QAAQ;AACjD;;;ACGe,2BAAS,KAAK;AAC5B,SAAO,iBAAU,GAAG,KAAM,QAAQ,QAAQ,QAAQ,SAAS,QAAQ,QAAQ,QAAQ,MAAM,CAAC,MAAM,MAAM,CAAC;AACxG;;;ACPe,0BAAS,KAAK;AAC5B,SAAO,eAAe,UAAW,OAAO,QAAQ,YAAY,QAAQ;AACrE;;;ACKe,6BAAS,KAAK;AAC5B,SAAO,CAAC,iBAAU,GAAG,KAAK,CAAC,oBAAa,IAAI,MAAM;AACnD;;;ACRe,4BAAS,QAAQ,OAAO;AACtC,QAAM,QAAQ,SAAO;AACpB,QAAI,IAAI,QAAQ,GAAG,IAAI,GAAG;AACzB,UAAI,KAAK,GAAG;AAAA,IACb;AAAA,EACD,CAAC;AACD,SAAO;AACR;;;ACFe,mCAAS,KAAK,OAAO;AACnC,UAAQ,SAAS,OAAO;AACxB,UAAQ,SAAS,CAAC,gBAAS,KAAK,IAAI,CAAC,KAAK,IAAI;AAE9C,MAAI,kBAAkB,CAAC;AACvB,MAAI,MAAM;AACV,SAAO,OAAQ,EAAC,SAAS,MAAM,QAAQ,GAAG,IAAI,MAAM,IAAI,SAAS,WAAY;AAC5E,oBAAgB,KAAK,GAAG;AACxB,UAAM,MAAM,OAAO,eAAe,GAAG,IAAI;AAAA,EAC1C;AACA,SAAO;AACR;;;ACVe,qCAAS,KAAK,OAAO;AACnC,MAAI,UAAU,CAAC;AACf,4BAAmB,KAAK,KAAK,EAAE,QAAQ,UAAO;AAC7C,uBAAY,SAAS,GAAG,OAAO,oBAAoB,IAAG,CAAC;AAAA,EACxD,CAAC;AACD,SAAO;AACR;;;ACFe,uBAAuB,MAAM,UAAU,YAAY,OAAO,YAAY,OAAO,cAAc,OAAO;AAChH,MAAI,QAAQ;AACZ,MAAI,OAAO,KAAK,MAAM;AACtB,MAAI,kBAAW,IAAI,KAAK,SAAS,QAAQ,SAAS,OAAO;AACxD,YAAQ;AACR,WAAO,KAAK,MAAM;AAAA,EACnB;AACA,MAAI,CAAC,KAAK,QAAQ;AACjB,UAAM,IAAI,MAAM,8CAA8C;AAAA,EAC/D;AACA,OAAK,QAAQ,CAAC,MAAM,MAAM;AACzB,QAAI,CAAC,qBAAc,IAAI,KAAK,CAAC,mBAAY,IAAI,GAAG;AAC/C;AAAA,IACD;AACA,IAAC,aAAY,4BAAqB,IAAI,IAAI,OAAO,KAAK,IAAI,GAAG,QAAQ,SAAO;AAC3E,UAAI,CAAC,SAAS,KAAK,MAAM,MAAM,CAAC,GAAG;AAClC;AAAA,MACD;AACA,UAAI,YAAY,KAAK;AACrB,UAAI,YAAY,KAAK;AACrB,UAAM,iBAAS,SAAS,KAAK,gBAAS,SAAS,KAAO,iBAAU,SAAS,KAAK,iBAAU,SAAS,MAC7F,WAAU,QAAQ,QAAQ,IAAI;AAEjC,aAAK,OAAO,gBAAS,SAAS,KAAK,gBAAS,SAAS,IAAI,CAAC,IAAI,CAAC;AAC/D,sBAAc,CAAC,kBAAW,KAAK,IAAI,QAAQ,IAAI,OAAO,KAAK,MAAM,WAAW,SAAS,GAAG,UAAU,WAAW,WAAW,WAAW;AAAA,MACpI,OAAO;AACN,YAAI,gBAAS,IAAI,KAAK,gBAAS,IAAI,GAAG;AACrC,cAAI,WAAW;AACd,iBAAK,OAAO;AAAA,UACb,OAAO;AACN,iBAAK,KAAK,SAAS;AAAA,UACpB;AAAA,QACD,OAAO;AAEN,cAAI;AACH,gBAAI,aAAa;AAChB,qBAAO,eAAe,MAAM,KAAK,OAAO,yBAAyB,MAAM,GAAG,CAAC;AAAA,YAC5E,OAAO;AACN,mBAAK,OAAO,KAAK;AAAA,YAClB;AAAA,UACD,SAAQ,GAAN;AAAA,UAAU;AAAA,QACb;AAAA,MACD;AAAA,IACD,CAAC;AAAA,EACF,CAAC;AACD,SAAO;AACR;;;ACnDe,0BAAY,MAAM;AAChC,SAAO,cAAe,MAAM,CAAC,GAAG,MAAM,SAAS;AAC9C,WAAO;AAAA,EACR,GAAG,OAAoB,OAAoB,KAAoB;AAChE;;;AClBe,YAAY,QAAQ,YAAY;AAC3C,MAAI,CAAC,OAAO,CAAC,CAAC,UAAU,UAAU,EAAE,SAAS,OAAO,GAAG,GAAG;AACtD,UAAM,IAAI,MAAM,oCAAoC;AAAA,EACxD;AACA,MAAI,MAAK,IAAI,OAAO,IAAI,IAAI;AAC5B,MAAI,CAAC,KAAI;AACL,UAAK,IAAI;AACT,WAAO,eAAe,KAAK,OAAO,IAAI,IAAI,GAAG;AAAA,MACzC,OAAO;AAAA,MAEP,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,UAAU;AAAA,IACd,CAAC;AAAA,EACL;AACA,MAAI,CAAC,WAAW,QAAQ;AACpB,WAAO;AAAA,EACX;AACA,MAAI,KAAK;AACT,SAAQ,MAAM,WAAW,MAAM,GAAI;AAC/B,QAAK,QAAM,QAAO,CAAE,OAAK,IAAG,IAAI,GAAG,IAAI;AACnC,YAAK,IAAI;AACT,WAAI,IAAI,KAAK,GAAE;AAAA,IACnB;AAAA,EACJ;AACA,SAAO;AACX;AAEA,IAAM,cAAN,cAA0B,IAAI;AAAC;;;ACXhB,sBAAS,KAAK,aAAa,MAAM;AAC/C,MAAI,gBAAS,GAAG,GAAG;AAClB,WAAO;AAAA,EACR;AAAC;AACD,MAAI,CAAC,cAAc,iBAAU,GAAG,GAAG;AAClC,WAAO,CAAC,GAAG;AAAA,EACZ;AAAC;AACD,MAAI,QAAQ,SAAS,QAAQ,KAAK,gBAAS,GAAG,GAAG;AAChD,WAAO,CAAC;AAAA,EACT;AAAC;AACD,MAAI,oBAAa,GAAG,GAAG;AACtB,WAAO,MAAM,UAAU,MAAM,KAAK,GAAG;AAAA,EACtC;AAAC;AACD,MAAI,iBAAU,GAAG,GAAG;AACnB,WAAO,OAAO,OAAO,GAAG;AAAA,EACzB;AAAC;AACD,SAAO,CAAC,GAAG;AACZ;;;ACVe,qBAAS,MAAM,MAAM,OAAO,CAAC,GAAG,WAAW,CAAC,GAAG;AAC7D,SAAO,aAAS,IAAI,EAAE,MAAM;AAC5B,MAAI,QAAQ;AACZ,SAAM,CAAC,oBAAa,KAAK,KAAK,CAAC,eAAQ,KAAK,KAAK,KAAK,QAAQ;AAC7D,QAAI,OAAO,KAAK,MAAM;AACtB,QAAI,CAAE,MAAK,MAAM,KAAK,IAAI,OAAO,IAAI,IAAK,qBAAc,KAAK,IAAI,QAAQ,QAAQ,MAAM,QAAS;AAC/F,eAAS,SAAS;AAClB;AAAA,IACD;AACA,YAAQ,KAAK,MAAM,KAAK,IAAI,OAAO,IAAI,IAAI,MAAM;AAAA,EAClD;AACA,WAAS,SAAS;AAClB,SAAO;AACR;;;ACfe,qBAAS,KAAK,MAAM,KAAK,YAAY,CAAC,GAAG,OAAO,CAAC,GAAG;AAClE,QAAM,OAAO,CAAC,SAAQ,KAAK,SAAQ;AAClC,QAAI,KAAK,KAAK;AACb,aAAO,KAAK,IAAI,SAAQ,KAAK,IAAG;AAAA,IACjC,OAAO;AACN,UAAI,kBAAW,KAAK,EAAE,KAAK,gBAAS,OAAM,GAAG;AAC5C,gBAAO,KAAK,IAAG;AAAA,MAChB,OAAO;AACN,gBAAO,OAAO;AAAA,MACf;AACA,aAAO;AAAA,IACR;AAAA,EACD;AACA,SAAO,aAAS,IAAI;AACpB,MAAI,SAAS;AACb,WAAQ,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAM;AACrC,QAAI,IAAI,KAAK,SAAS,GAAG;AACxB,UAAI,CAAC,UAAW,CAAC,qBAAc,MAAM,KAAK,CAAC,mBAAY,MAAM,GAAI;AAChE,eAAO;AAAA,MACR;AACA,UAAI,SAAS,YAAK,QAAQ,KAAK,IAAI,IAAI;AACvC,UAAI,CAAC,qBAAc,MAAM,GAAG;AAC3B,YAAI,KAAK,cAAc,OAAO;AAC7B,iBAAO;AAAA,QACR;AACA,iBAAS,mBAAY,KAAK,SAAS,IAAI,KAAK,UAAU,CAAC,IAAK,kBAAW,KAAK,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC;AAC5F,YAAI,gBAAgB,KAAK,QAAQ,KAAK,IAAI,MAAM;AAChD,YAAI,CAAC,eAAe;AACnB,iBAAO;AAAA,QACR;AAAA,MACD;AACA,eAAS;AAAA,IACV,OAAO;AACN,aAAO,KAAK,QAAQ,KAAK,IAAI,GAAG;AAAA,IACjC;AAAA,EACD;AACD;;;AClDA,IAAqB,YAArB,MAA+B;AAAA,EAO9B,YAAa,SAAQ,YAAY,OAAQ;AACxC,WAAO,eAAgB,MAAM,UAAU,EAAE,OAAO,QAAO,CAAE;AACzD,WAAO,eAAgB,MAAM,iBAAiB,EAAE,OAAO,oBAAI,MAAI,CAAE;AACjE,WAAO,eAAgB,MAAM,kBAAkB,EAAE,OAAO,oBAAI,MAAI,CAAE;AAClE,WAAO,eAAgB,MAAM,cAAc,EAAE,OAAO,GAAG,UAAU,KAAK,CAAE;AACxE,QAAK,CAAC,aAAa,KAAK,OAAO,uBAAwB;AACtD,WAAK,MAAM;AAAA,IACZ,OAAO;AAAE,WAAK;AAAA,IAAe;AAAA,EAC9B;AAAA,EAEA,IAAI,YAAY;AAAE,WAAO,KAAK;AAAA,EAAY;AAAA,EAE1C,MAAM,gBAAiB,UAAW;AACjC,SAAK;AACL,SAAK,SAAS;AACd,UAAM,cAAc,MAAM,SAAS;AACnC,SAAK;AACL,WAAO;AAAA,EACR;AAAA,EAEA,WAAW;AACV,eAAY,YAAY,KAAK,eAAgB;AAC5C,eAAS;AACT,WAAK,cAAc,OAAQ,QAAS;AAAA,IACrC;AACA,eAAY,YAAY,KAAK,gBAAiB;AAC7C,eAAS;AACT,WAAK,eAAe,OAAQ,QAAS;AAAA,IACtC;AAAA,EACD;AAAA,EAEA,QAAQ;AACP,SAAK,OAAO,sBAAuB,MAAM;AACxC,WAAK,SAAS;AACd,WAAK,MAAM;AAAA,IACZ,CAAE;AAAA,EACH;AAAA,EAUA,OAAQ,UAAU,cAAc,OAAQ;AACvC,QAAK,aAAc;AAClB,aAAO,IAAI,QAAS,aAAW;AAC9B,YAAK,KAAK,WAAY;AACrB,kBAAS,SAAS,CAAE;AAAA,QACrB,OAAO;AACN,eAAK,cAAc,IAAK,MAAM;AAC7B,oBAAS,SAAS,CAAE;AAAA,UACrB,CAAE;AAAA,QACH;AAAA,MACD,CAAE;AAAA,IACH;AACA,QAAK,KAAK,WAAY;AACrB,cAAQ,QAAQ,EAAE,KAAM,QAAS;AAAA,IAClC,OAAO;AACN,WAAK,cAAc,IAAK,QAAS;AAAA,IAClC;AAAA,EACD;AAAA,EAUA,QAAS,UAAU,cAAc,OAAQ;AACxC,QAAK,aAAc;AAClB,aAAO,IAAI,QAAS,aAAW;AAC9B,YAAK,KAAK,WAAY;AACrB,kBAAS,SAAS,CAAE;AAAA,QACrB,OAAO;AACN,eAAK,eAAe,IAAK,MAAM;AAC9B,oBAAS,SAAS,CAAE;AAAA,UACrB,CAAE;AAAA,QACH;AAAA,MACD,CAAE;AAAA,IACH;AACA,QAAK,KAAK,WAAY;AACrB,cAAQ,QAAQ,EAAE,KAAM,QAAS;AAAA,IAClC,OAAO;AACN,WAAK,eAAe,IAAK,QAAS;AAAA,IACnC;AAAA,EACD;AAAA,EAYA,MAAO,QAAQ,SAAS,iBAAkB;AACzC,SAAK,OAAQ,MAAM;AAElB,YAAM,aAAa,OAAQ,eAAgB;AAE3C,YAAM,YAAY,CAAE,gBAAgB;AACnC,YAAK,gBAAe;AAAY;AAChC,aAAK,QAAS,MAAM;AACnB,gBAAM,cAAc,QAAS,aAAY,eAAgB;AAEzD,gBAAM,oBAAoB,CAAE,iBAAiB;AAC5C,gBAAK,iBAAgB;AAAY;AACjC,iBAAK,MAAO,QAAQ,SAAS,YAAY;AAAA,UAC1C;AAIA,cAAK,uBAAuB,SAAU;AACrC,wBAAY,KAAM,iBAAkB;AAAA,UACrC,OAAO;AACN,8BAAmB,WAAY;AAAA,UAChC;AAAA,QACD,CAAE;AAAA,MACH;AAIA,UAAK,sBAAsB,SAAU;AACpC,mBAAW,KAAM,SAAU;AAAA,MAC5B,OAAO;AACN,kBAAW,UAAW;AAAA,MACvB;AAAA,IACD,CAAE;AAAA,EACH;AAED;;;ACtJO,iBAAkB,MAAO;AAAE,SAAS,QAAO,KAAK,KAAK,MAAO,KAAK,WAAY,GAAI,KAAK,KAAK,SAAU,GAAI;AAAE;AAE3G,oBAAqB,SAAQ,SAAS,MAAM,UAAU,MAAO;AAChE,SAAS,OAAM,QAAS,IAAK,IAAI,OAAO,CAAE,IAAK,GAAI,IAAK,OAAO,KAAI,IAAK,QAAS,KAAK,UAAU,SAAS,KAAM,CAAE,EAAE,KAAM,GAAI;AAC7H,MAAI,QAAQ,CAAC,GAAG;AAChB,MAAI;AAEA,UAAM,SAAS,QAAO,SAAS,SAAU,MAAM,SAAS,MAAM,QAAO,YAAY,QAAS;AAC1F,WAAQ,OAAO,OAAO,YAAY;AAAI,YAAM,KAAM,IAAK;AAAA,EAC3D,SAAS,GAAP;AAAA,EAAY;AACd,SAAO;AACX;AAEO,oBAAqB,SAAQ,MAAM,MAAO;AAC7C,SAAS,OAAM,QAAS,IAAK,IAAI,OAAO,CAAE,IAAK,GAAI,IAAK,OAAO,KAAI,IAAK,QAAS,KAAK,SAAU,CAAE,EAAE,KAAM,GAAI;AAC9G,MAAI;AAEA,WAAO,QAAO,SAAS,SAAU,GAAI,QAAS,MAAM,MAAM,QAAO,YAAY,YAAa,EAAE;AAAA,EAChG,SAAS,GAAP;AAAA,EAAY;AAClB;AAEO,sBAAuB,SAAQ,GAAG,GAAG,aAAa,OAAO,YAAY,MAAO;AAC/E,QAAM,WAAW,WAAW,IAAK,CAAE,GAAG,IAAK,CAAE;AAC7C,MAAK,OAAO,aAAa;AAAc,WAAO;AAC9C,QAAM,WAAW,SAAO;AACpB,QAAK,CAAC,WAAW,IAAK,CAAE;AAAI,iBAAW,IAAK,GAAG,oBAAI,SAAQ;AAC3D,eAAW,IAAK,CAAE,GAAG,IAAK,GAAG,GAAI;AACjC,WAAO;AAAA,EACX;AACA,QAAM,YAAY,EAAE,YAAY;AAChC,QAAM,YAAY,EAAE,YAAY;AAChC,MAAK,cAAc;AAAY,WAAO,SAAU,EAAE,SAAU,CAAE,CAAE;AAChE,MAAK,cAAc,qBAAqB,QAAO;AAAa,WAAO,SAAU,aAAc,SAAQ,GAAG,UAAU,MAAM,YAAY,SAAU,CAAE;AAC9I,SAAO,SAAU,KAAM;AAC3B;AAEO,oBAAqB,KAAK,QAAQ,KAAM;AAC3C,SAAO,CAAE,GAAG,GAAI,EAAE,OAAQ,CAAE,CAAE,OAAO,OAAO,QAAQ,OAAQ,MAAO;AAC/D,QAAK,CAAC,SAAS,UAAU,KAAO,OAAM,QAAS,KAAM,IAAI,QAAQ,CAAE,KAAM,GAAI,SAAU,CAAE,GAAI;AACzF,aAAO,CAAE,OAAO,OAAO,CAAE,EAAG,EAAE,OAAQ,MAAO,CAAE;AAAA,IACnD;AACA,QAAK,CAAC,SAAS,CAAE,KAAK,KAAK,GAAI,EAAE,SAAU,CAAE,KAAK,CAAC,OAAQ,GAAI,SAAU,IAAK;AAAI;AAClF,QAAK,CAAC,SAAS,CAAE,KAAK,KAAK,GAAI,EAAE,SAAU,CAAE,KAAK,CAAC,OAAQ,GAAI,SAAU,IAAK;AAAI;AAClF,QAAK,CAAE,KAAK,KAAK,GAAI,EAAE,SAAU,CAAE,KAAK,CAAC,OAAQ,GAAI,SAAU,IAAK,GAAI;AACpE,cAAQ,UAAU,IAAI,OAAS,SAAS;AAAA,IAC5C;AACA,WAAQ,MAAO;AACf,WAAO,CAAE,OAAO,OAAO,MAAO;AAAA,EAClC,GAAG,CAAE,MAAM,GAAG,CAAE,EAAG,CAAE,CAAE,EAAG,GAAI,QAAQ;AAC1C;;;AC7CA,IAAqB,UAArB,MAA6B;AAAA,EACzB,YAAa,SAAU;AACnB,SAAK,UAAU;AACf,SAAK,OAAO,OAAO,YAAY,WAAW,aAAa;AACvD,SAAK,OAAO,KAAK,SAAS,aAAa,OAAO,AAAK,QAAS,OAAQ,IAAI,UAAU;AAClF,QAAK,KAAK,SAAS,SAAU;AACzB,WAAK,cAAc,AAAK,WAAY,QAAQ,KAAK,EAAE,MAAO,GAAG,EAAG,GAAG,GAAI,EAAE,SAAS;AAAA,IACtF;AAAA,EACJ;AAAA,EACA,WAAW;AAAE,WAAO,KAAK;AAAA,EAAS;AACtC;;;ACHA,IAAqB,WAArB,MAA8B;AAAA,EAO7B,YAAa,SAAS,WAAW,SAAS;AACzC,SAAK,UAAU;AACf,SAAK,YAAY;AACjB,SAAK,SAAS,QAAQ,eAAe,QAAQ,eAAe,eAAe;AAC3E,SAAK,WAAW,KAAK,OAAO;AAC5B,SAAK,SAAS,KAAK,OAAO;AAC1B,WAAO,eAAgB,MAAM,KAAK,EAAE,OAAO,CAAC,EAAE,CAAE;AAAA,EACjD;AAAA,EASA,YAAa,MAAO;AACnB,QAAK,mBAAa,KAAM,EAAI,GAAI;AAAE,aAAO,CAAE,CAAC,GAAG,GAAG,IAAK;AAAA,IAAG,WAChD,iBAAW,KAAM,EAAI,KAAK,CAAG,MAAM,cAAe,YAAa,KAAK,WAAW,GAAI;AAC5F,aAAO,CAAE,CAAC,GAAG,QAAW,KAAM,EAAI;AAAA,IACnC,WAAY,iBAAW,KAAM,EAAI,KAAK,KAAK,WAAW,GAAI;AACzD,aAAO,CAAE,aAAU,KAAM,IAAK,KAAoB,GAAG,QAAW,KAAM,EAAI;AAAA,IAC3E,OAAO;AAAE,WAAM,KAAM,aAAU,KAAM,IAAK,KAAoB;AAAA,IAAG;AACjE,QAAK,KAAM,GAAI,OAAQ,OAAK,OAAO,MAAM,YAAY,CAAG,cAAa,YAAa,CAAG,kBAAW,CAAE,KAAK,OAAO,EAAE,qBAAqB,WAAa,EAAE,QAAS;AAC5J,YAAM,IAAI,MAAO,2EAA4E;AAAA,IAC9F;AACA,SAAM,KAAM,KAAM,GAAI,IAAK,OAAK,aAAa,UAAU,IAAI,IAAI,QAAS,CAAE,CAAE;AAC5E,WAAO;AAAA,EACR;AAAA,EASA,YAAa,MAAO;AACnB,WAAO,GAAK,KAAK,QAAQ,WAAW,KAAK,WAAW,GAAG,IAAK;AAAA,EAC7D;AAAA,EASA,wBAAwB;AACvB,WAAO;AAAA,MACN,WAAW;AAEV,aAAK,gBAAgB,MAAM;AAC3B,aAAK,iBAAiB,IAAI;AAC1B,cAAM,QAAQ,EAAE,QAAQ,KAAK,eAAe,OAAO;AACnD,eAAO;AAAA,MACR;AAAA,MACA,aAAa;AAAE,aAAK,gBAAgB,MAAM;AAAA,MAAG;AAAA,IAC9C;AAAA,EACD;AAAA,EAWA,uBAAwB,oBAAoB,UAAU,UAAW;AAChE,UAAM,EAAE,oBAAW,MAAM,YAAY,oBAAI,OAAK,YAAY,oBAAI;AAC9D,eAAY,CAAE,cAAc,aAAc,KAAK,SAAU,kBAAmB,GAAI;AAC/E,UAAI,WAAW,CAAC,EAAE,OAAQ,QAAS,EAAE,OAAQ,YAAU,AAAK,aAAc,SAAQ,aAAa,SAAS,OAAO,QAAQ,aAAa,OAAO,YAAY,eAAe,SAAU,CAAE;AAClL,UAAK,CAAC,SAAS;AAAS;AACxB,YAAM,OAAO,CAAE,cAAc,MAAM,QAAS,QAAS,IAAI,WAAW,SAAU,EAAI;AAClF,UAAK;AAAW,kBAAU,IAAK,IAAK;AAAA;AAAQ,iBAAS,KAAM,SAAQ,GAAG,IAAK;AAAA,IAC5E;AACA,eAAY,QAAQ;AAAY,eAAS,KAAM,SAAQ,GAAG,IAAK;AAC/D,cAAU,MAAM;AAAA,EACjB;AAAA,EAUA,gBAAiB,WAAW,SAAU;AACrC,UAAM,iBAAiB,EAAE,aAAa;AACrC,cAAQ,QAAS,OAChB,KAAK,mBAAa,EAAE,UAAW,KAAK,EAAE,WAAW,KAC9C,mBAAa,CAAE,KAAK,EAAE,KACtB,iBAAW,CAAE,KAAO,GAAE,eAAe,KACvC;AAAA,IACH,EAAE;AACF,QAAK;AAAS,aAAO,iBAAkB,SAAS,MAAM,eAAe,WAAW,CAAE;AAClF,WAAO;AAAA,EACR;AACD;;;AC7GA,IAAqB,eAArB,cAA0C,SAAS;AAAA,EAElD,OAAO;AAAA,EAKP,YAAa,YAAY,MAAO;AAC/B,UAAO,SAAS,QAAQ,GAAG,IAAK;AAAA,EACjC;AAAA,EAWA,IAAK,MAAM,WAAW,QAAW,SAAS,CAAC,GAAI;AAC9C,UAAM,yBAAyB,OAAO,SAAS,YAAY,gBAAgB;AAC3E,KAAE,OAAO,CAAC,GAAG,WAAW,QAAW,SAAS,CAAC,CAAE,IAAI,KAAK,YAAa,SAAU;AAC/E,UAAM,EAAE,YAAY;AAEpB,UAAM,UAAU,iBAAkB,SAAS,IAAK;AAChD,QAAK,CAAC;AAAW,aAAO;AACxB,UAAM,kBAAkB,OAAO,oBAAoB,KAAK,sBAAsB;AAC9E,QAAK,CAAC,wBAAyB;AAC9B,YAAM,QAAQ,iBAAiB,SAAS,KAAK,CAAC;AAC9C,eAAU,SAAS,OAAO,OAAQ;AAAA,IACnC,OAAO;AACN,iBAAY,UAAU,SAAU;AAC/B,cAAM,QAAQ,kBAAkB,gBAAgB,SAAS,IAAI,CAAC;AAC9D,iBAAU,QAAQ,OAAO,OAAQ;AAAA,MAClC;AAAA,IACD;AAEA,QAAK,OAAO,MAAO;AAClB,UAAK,iBAAkB;AAAE,iBAAS,EAAE,GAAG,QAAQ,gBAAgB;AAAA,MAAG;AAClE,YAAM,sBAAsB,KAAK,QAAS,yBAAyB,KAAM,KAAM,MAAM,UAAU,EAAE,UAAU,MAAM,GAAG,OAAO,CAAE;AAC7H,aAAO,KAAK,gBAAiB,OAAO,QAAQ,mBAAoB;AAAA,IACjE;AAAA,EACD;AAAA,EAWA,QAAS,MAAM,UAAU,SAAS,CAAC,GAAI;AACtC,UAAM,yBAAyB,OAAO,SAAS,YAAY,gBAAgB;AAC3E,KAAE,OAAO,CAAC,GAAG,UAAU,SAAS,CAAC,CAAE,IAAI,KAAK,YAAa,SAAU;AAEnE,QAAK,CAAE,QAAQ,WAAY,EAAE,SAAU,OAAO,MAAO;AAAI,aAAO,KAAK,YAAa,yBAAyB,KAAM,KAAM,MAAM,UAAU,MAAO;AAC9I,QAAK,OAAO,UAAU,OAAO,WAAW;AAAU,YAAM,IAAI,MAAO,kBAAmB,OAAO,kBAAoB;AAEjH,UAAM,EAAE,SAAS,iBAAQ,WAAW;AAEpC,QAAK,OAAO,gBAAgB,CAAC,OAAO,QAAQ,uBAAuB,cAAe;AACjF,uBAAiB,KAAM,SAAQ,aAAa,MAAM;AAAA,MAAC,CAAE;AAAA,IACtD;AAEA,UAAM,iBAAiB,IAAI,QAAO,iBAAkB,aAAW;AAC9D,gBAAU,wBAAyB,OAAQ,EAAE,IAAK,SAAO,qBAAqB,KAAM,SAAQ,GAAI,CAAE;AAClG,eAAS,KAAM,SAAQ,cAAc,SAAS,OAAQ;AAAA,IACvD,CAAE;AAEF,UAAM,UAAU,EAAE,YAAY,MAAM,mBAAmB,OAAO,UAAU,SAAS,OAAO,WAAW,KAAK;AACxG,QAAK,KAAK,QAAS;AAAE,cAAQ,kBAAkB,KAAK,IAAK,OAAK,IAAI,EAAG;AAAA,IAAG;AACxE,mBAAe,QAAS,SAAS,OAAQ;AAEzC,UAAM,kBAAkB,OAAO,mBAAmB,OAAO,oBAAoB,KAAK,sBAAsB;AACxG,UAAM,eAAe,EAAE,SAAS,MAAM,UAAU,QAAQ,SAAS,oBAAI,OAAK,wBAAwB,iBAAiB,eAAe;AAElI,WAAO,KAAK,gBAAiB,OAAO,QAAQ,gBAAgB,eAAgB;AAAA,EAC7E;AAAA,EAWA,YAAa,MAAM,UAAU,SAAS,CAAC,GAAI;AAC1C,UAAM,yBAAyB,OAAO,SAAS,YAAY,gBAAgB;AAC3E,KAAE,MAAM,UAAU,SAAS,CAAC,CAAE,IAAI,KAAK,YAAa,SAAU;AAC9D,UAAM,EAAE,SAAS,oBAAW;AAE5B,QAAK,OAAO,UAAU,CAAC,CAAE,QAAQ,WAAY,EAAE,SAAU,OAAO,MAAO;AAAI,YAAM,IAAI,MAAO,kBAAmB,OAAO,kBAAoB;AAC1I,UAAM,qBAAqB,OAAO,WAAW,cAAc,cAAc;AACzE,QAAK,CAAC,KAAK,SAAU,kBAAmB,EAAE,MAAO;AAEhD,uBAAiB,KAAM,SAAQ,oBAAoB,aAAW;AAC7D,aAAK,uBAAwB,oBAAoB,SAAS,QAAS;AAAA,MACpE,CAAE;AAAA,IACH;AAEA,UAAM,iBAAiB,EAAE,aAAa;AAAE,eAAS,OAAQ,YAAa;AAAA,IAAG,EAAE;AAC3E,UAAM,kBAAkB,OAAO,mBAAmB,OAAO,oBAAoB,KAAK,sBAAsB;AACxG,UAAM,eAAe,EAAE,SAAS,MAAM,UAAU,QAAQ,SAAS,oBAAI,OAAK,wBAAwB,iBAAiB,eAAe;AAClI,UAAM,WAAW,KAAK,SAAU,kBAAmB;AACnD,aAAS,IAAK,cAAc,CAAC,CAAC,aAAa,OAAO,QAAS;AAE3D,WAAO,KAAK,gBAAiB,OAAO,QAAQ,gBAAgB,eAAgB;AAAA,EAC7E;AACD;AASA,iCAAkC,SAAU;AAC3C,SAAO,QAAQ,OAAQ,CAAE,MAAM,KAAK,MAAO;AAC1C,QAAK,KAAM,IAAI,IAAK,kBAAkB,IAAI;AAAgB,aAAO;AACjE,QAAK,GAAK,IAAI,QAAQ,WAAW,0BAA2B,EAAE,IAAK,IAAI,aAAc;AAAI,aAAO;AAChG,WAAO,KAAK,OAAQ,GAAI;AAAA,EACzB,GAAG,CAAC,CAAE;AACP;AAUA,kBAAmB,cAAc,SAAU;AAC1C,QAAM,EAAE,SAAS,MAAM,UAAU,QAAQ,SAAS,wBAAwB,oBAAoB;AAC9F,MAAI,CAAC,OAAO,SAAS;AACpB,cAAU,QAAQ,OAAO,CAAC,MAAM;AAC/B,aAAO,EAAE,WAAW;AAAA,IACrB,CAAC;AAAA,EACF;AACA,MAAK,CAAC,QAAQ;AAAS;AACvB,QAAM,QAAQ,KAAK,IAAK,OAAK,IAAI,EAAG;AACpC,MAAK,OAAO,UAAU,CAAC,QAAQ,MAAO;AACrC,cAAU,iBAAkB,SAAS,MAAM,OAAQ;AAAA,EACpD,WAAY,OAAO,WAAW,WAAW,KAAK,QAAS;AACtD,cAAU,QAAQ,OAAQ,OAAK,MAAM,SAAU,EAAE,IAAK,CAAE;AAAA,EACzD;AACA,MAAK,CAAC,QAAQ;AAAS;AAEvB,MAAK,CAAG,QAAO,aAAa,QAAQ,OAAO,aAAa,QAAQ,OAAO,eAAiB;AACvF,cAAU,QAAQ,IAAK,SAAO;AAC7B,UAAI;AACJ,UAAK,CAAC,OAAO,cAAe;AAC3B,QAAE,GAAE,OAAO,WAAW,GAAG,IAAI,IAAI;AAAA,MAClC;AACA,UAAK,CAAC,OAAO,YAAc,cAAc,KAAQ;AAChD,QAAE,GAAE,UAAU,WAAW,GAAG,IAAI,IAAI;AAAA,MACrC;AACA,UAAK,CAAC,OAAO,YAAc,WAAW,KAAQ;AAC7C,QAAE,GAAE,OAAO,WAAW,GAAG,IAAI,IAAI;AAAA,MAClC,WAAY,OAAO,YAAY,OAAO,IAAI,UAAU,aAAc;AACjE,cAAM,EAAG,GAAG,KAAK,OAAO,wBAAyB,IAAI,QAAQ,IAAI,MAAM,MAAM,IAAI,OAAO,aAAc,IAAI,IAAK,CAAE,EAAE;AAAA,MACpH;AACA,aAAO;AAAA,IACR,CAAE;AAAA,EACH;AACA,MAAK,OAAO,QAAS;AACpB,YAAQ,QAAS,YAAU,QAAQ,IAAK,OAAO,MAAM,MAAO,CAAE;AAC9D,cAAU,MAAM,KAAM,QAAQ,QAAQ,CAAE,EAAE,IAAK,CAAE,CAAE,EAAE,WAAa,KAAM;AAAA,EACzE;AACA,QAAM,WAAW,yBAAyB,QAAS,KAAM;AACzD,QAAM,QAAQ,kBAAkB,gBAAgB,SAAS,IAAI,CAAC;AAC9D,WAAU,UAAU,OAAO,OAAQ;AACpC;AAIA,iCAAkC,MAAM,UAAU,UAAW;AAC5D,QAAM,mBAAmB,GAAK,MAAM,WAAW,0BAA2B,EAAE,IAAK,QAAS;AAC1F,KAAK,MAAM,WAAW,0BAA2B,EAAE,IAAK,UAAU,IAAK;AACvE,QAAM,QAAQ,SAAS;AACvB,KAAK,MAAM,WAAW,0BAA2B,EAAE,IAAK,UAAU,gBAAiB;AACnF,SAAO;AACR;AAWA,0BAA2B,SAAS,MAAM,UAAU,CAAC,GAAI;AACxD,QAAM,QAAQ,EAAE,OAAO,MAAM,MAAM,YAAY;AAC/C,MAAK,KAAK,QAAS;AAClB,WAAO,KAAK,IAAK,cAAY;AAC5B,iBAAW,WAAW;AACtB,aAAO,QAAQ,KAAM,OAAK,EAAE,SAAS,QAAS,KAAK,EAAE,QAAQ,SAAS,MAAM,UAAU,OAAO,wBAAyB,SAAS,UAAU,MAAM,QAAQ,aAAc,QAAS,CAAE,GAAG,GAAG,MAAM;AAAA,IAC7L,CAAE;AAAA,EACH;AACA,QAAM,QAAQ,MAAM,KAAM,QAAQ,UAAW;AAC7C,SAAO,MAAM,IAAK,UAAQ;AACzB,WAAO,QAAQ,KAAM,OAAK,EAAE,SAAS,KAAK,QAAS,KAAK,EAAE,QAAQ,SAAS,MAAM,KAAK,UAAU,OAAO,wBAAyB,SAAS,KAAK,UAAU,MAAM,KAAK,SAAU,GAAG,GAAG,MAAM;AAAA,EAC1L,CAAE;AACH;AASA,8BAA+B,EAAE,QAAQ,eAAe,OAAO,YAAa;AAC3E,QAAM,UAAS,MAAM,WAAW,QAAO,OAAO,QAAQ,yBAAyB,IAAK,MAAO,KAAK,CAAC;AACjG,QAAM,QAAQ,SAAU,iBAAmB,MAAO;AAClD,QAAM,SAAS,EAAE,QAAQ,MAAM,eAAe,OAAO,UAAU,MAAM,eAAe,MAAM;AAC1F,SAAO;AACR;AAUA,0BAA2B,QAAQ,UAAW;AAC7C,QAAM,UAAS;AACf,QAAM,EAAE,QAAQ,UAAU,YAAY;AACtC,MAAK,CAAC,OAAO,QAAQ,uBAAwB;AAAE,WAAO,eAAgB,OAAO,SAAS,yBAAyB,EAAE,OAAO,oBAAI,MAAI,CAAE;AAAA,EAAG;AACrI,MAAK,CAAC,OAAO,QAAQ,sBAAsB,IAAK,MAAO,GAAI;AAAE,WAAO,QAAQ,sBAAsB,IAAK,QAAQ,oBAAI,KAAI;AAAA,EAAG;AAC1H,SAAO,QAAQ,sBAAsB,IAAK,MAAO,EAAE,IAAK,QAAS;AACjE,QAAM,KAAK,MAAM,OAAO,QAAQ,sBAAsB,IAAK,MAAO,EAAE,OAAQ,QAAS;AACrF,MAAK,OAAO,QAAQ,uBAAuB;AAAe,WAAO;AACjE,UAAQ,KAAM,+CAAgD;AAC9D,SAAO,QAAQ,sBAAsB,eAAe;AACpD,SAAO,eAAgB,OAAO,SAAS,2BAA2B,EAAE,OAAO,oBAAI,MAAI,CAAE;AAGrF,QAAM,gBAAgB,CAAE,QAAQ,kBAAmB;AAClD,QAAK,CAAC,OAAO,QAAQ,wBAAwB,IAAK,OAAO,MAAO,GAAI;AAAE,aAAO,QAAQ,wBAAwB,IAAK,OAAO,QAAQ,CAAC,CAAE;AAAA,IAAG;AACvI,UAAM,WAAW,OAAO,QAAQ,wBAAwB,IAAK,OAAO,MAAO;AAE3E,aAAU,OAAO,QAAS,SAAU,OAAO,SAAU,CAAC;AACtD,aAAU,OAAO,MAAO,QAAS,OAAO,KAAM;AAC9C,QAAK,GAAK,OAAO,QAAQ,WAAW,0BAA2B,EAAE,IAAK,OAAO,IAAK;AAAI,aAAO,cAAc;AAE3G,WAAO,QAAQ,sBAAsB,IAAK,WAAY,GAAG,QAAS,eAAY,UAAU,CAAE,MAAO,CAAE,CAAE;AACrG,UAAM,cAAc,cAAc;AAClC,WAAO,QAAQ,sBAAsB,IAAK,MAAO,GAAG,QAAS,eAAY,UAAU,CAAE,MAAO,CAAE,CAAE;AAChG,WAAO;AAAA,EACR;AAGA,QAAM,KAAK,IAAI,QAAO,iBAAkB,aAAW;AAClD,cAAU,QAAQ,OAAQ,SAAO;AAChC,YAAM,WAAW,QAAO,OAAO,QAAQ,yBAAyB,IAAK,IAAI,MAAO,KAAK,CAAC;AACtF,aAAO,CAAC,SAAU,IAAI,gBAAiB,MAAM;AAAA,IAC9C,CAAE;AACF,cAAU,wBAAyB,OAAQ,EAAE,IAAK,SAAO,qBAAqB,KAAM,SAAQ,GAAI,CAAE;AAClG,QAAK,CAAC,QAAQ;AAAS;AACvB,WAAO,QAAQ,sBAAsB,IAAK,WAAY,GAAG,QAAS,eAAY,UAAU,OAAQ,CAAE;AAClG,WAAO,QAAQ,sBAAsB,IAAK,MAAO,GAAG,QAAS,eAAY,UAAU,OAAQ,CAAE;AAAA,EAC9F,CAAE;AACF,KAAG,QAAS,UAAU,EAAE,YAAY,MAAM,SAAS,MAAM,mBAAmB,KAAK,CAAE;AAGnF,QAAM,eAAe,uBAAO,OAAQ,IAAK;AACzC,GAAE,gBAAgB,mBAAmB,iBAAmB,EAAE,QAAS,aAAW;AAC7E,iBAAc,WAAY,QAAQ,UAAW;AAC7C,YAAQ,UAAW,WAAY,YAAa,MAAO;AAClD,UAAI,OAAO,WAAW,wBAAyB,MAAM,KAAM,IAAK,MAAM,KAAK,aAAc,KAAM,EAAI,CAAE;AACrG,UAAK,CAAE,gBAAgB,iBAAkB,EAAE,SAAU,OAAQ,GAAI;AAAE,gBAAQ,KAAM;AAAA,MAAK;AACtF,UAAK,YAAY,qBAAqB,UAAU,QAAY;AAC3D,gBAAQ,aAAa,OAAO,OAAO;AAAA,MACpC;AACA,YAAM,SAAS,EAAE,QAAQ,MAAM,MAAM,KAAM,IAAK,OAAO,UAAU,MAAM,gBAAgB,OAAO,CAAE,MAAM,OAAQ,EAAE;AAChH,YAAM,OAAO,MAAM,aAAc,SAAU,KAAM,MAAM,GAAG,IAAK;AAC/D,aAAO,cAAe,QAAQ,IAAK;AAAA,IACpC;AAAA,EACD,CAAE;AAEF,SAAO;AACR;;;AClSA,IAAqB,cAArB,cAAyC,SAAS;AAAA,EAKjD,YAAa,YAAY,MAAO;AAC/B,UAAO,SAAS,QAAQ,GAAG,IAAK;AAAA,EACjC;AAAA,EAKA,KAAM,QAAQ,WAAW,QAAW,SAAS,CAAC,GAAI;AACjD,UAAM,EAAE,SAAS,oBAAW;AAC5B,WAAS,IAAI,aAAc,SAAS,OAAO,EAAI,IAAK,GAAG,SAAU;AAAA,EAClE;AAAA,EAWA,MAAO,MAAM,WAAW,QAAW,SAAS,CAAC,GAAI;AAChD,KAAE,MAAM,WAAW,QAAW,SAAS,CAAC,CAAE,IAAI,KAAK,YAAa,SAAU;AAC1E,UAAM,EAAE,YAAY;AAEpB,UAAM,UAAU,oBAAI,OAAK,YAAY,YAAU;AAC9C,UAAK,CAAC,QAAQ,IAAK,MAAO,GAAI;AAAE,gBAAQ,IAAK,QAAQ,EAAE,QAAQ,UAAU,CAAC,GAAG,OAAO,CAAC,GAAG,MAAM,SAAS,OAAO,KAAK,CAAE;AAAA,MAAG;AACxH,aAAO,QAAQ,IAAK,MAAO;AAAA,IAC5B;AAEA,QAAK,CAAC,OAAO,cAAc,OAAO,eAAe,YAAa;AAC7D,UAAK,CAAC,KAAK,QAAS;AAEnB,SAAE,GAAG,QAAQ,QAAS,EAAE,QAAS,UAAQ,UAAW,OAAQ,EAAE,SAAS,KAAM,IAAK,CAAE;AAAA,MACrF,WAAY,KAAK,MAAO,OAAK,EAAE,SAAS,UAAW,GAAI;AACtD,cAAM,CAAE,cAAc,gBAAiB,KAAK,OAAQ,CAAE,CAAE,KAAK,QAAS,MAAO;AAC5E,iBAAO,EAAE,SAAS,UAAU,CAAE,KAAK,MAAM,OAAQ,CAAE,CAAE,IAAI,CAAE,IAAI,OAAQ,CAAE,GAAG,KAAM;AAAA,QACnF,GAAG,CAAE,CAAC,GAAG,CAAC,CAAE,CAAE;AACd,cAAM,UAAU,CAAC;AACjB,YAAK,OAAO,SAAU;AACrB,cAAK,aAAa,QAAS;AAAE,oBAAQ,KAAM,GAAG,QAAQ,iBAAkB,aAAa,KAAM,GAAI,CAAE,CAAE;AAAA,UAAG;AACtG,cAAK,aAAa,QAAS;AAAE,oBAAQ,KAAM,GAAG,AAAK,WAAY,KAAK,QAAQ,SAAS,YAAa,CAAE;AAAA,UAAG;AAAA,QACxG,OAAO;AACN,cAAK,aAAa,QAAS;AAAE,oBAAQ,KAAM,GAAG,CAAE,GAAG,QAAQ,QAAS,EAAE,OAAQ,UAAQ,KAAK,QAAS,YAAa,CAAE,CAAE;AAAA,UAAG;AACxH,cAAK,aAAa,QAAS;AAAE,oBAAQ,KAAM,GAAG,AAAK,WAAY,KAAK,QAAQ,SAAS,cAAc,KAAM,CAAE;AAAA,UAAG;AAAA,QAC/G;AACA,gBAAQ,QAAS,UAAQ,UAAW,KAAK,cAAc,OAAQ,EAAE,SAAS,KAAM,IAAK,CAAE;AAAA,MACxF;AAAA,IACD;AAEA,QAAK,CAAC;AAAW,aAAO;AACxB,UAAM,iBAAiB,EAAE,cAAc,MAAM;AAC7C,UAAM,kBAAkB,YAAY,OAAO,oBAAoB,KAAK,sBAAsB;AAC1F,eAAY,CAAE,EAAE,WAAY,SAAU;AACrC,UAAK,eAAe;AAAe;AACnC,YAAM,QAAQ,iBAAiB,SAAS,KAAK,CAAC;AAC9C,eAAU,QAAQ,OAAO,OAAQ;AAAA,IAClC;AAEA,QAAK,OAAO,MAAO;AAClB,UAAK,iBAAkB;AAAE,iBAAS,EAAE,GAAG,QAAQ,gBAAgB;AAAA,MAAG;AAClE,YAAM,sBAAsB,KAAK,QAAS,MAAM,UAAU,MAAO;AACjE,aAAO,KAAK,gBAAiB,OAAO,QAAQ,gBAAgB,mBAAoB;AAAA,IACjF;AACA,WAAO,KAAK,gBAAiB,OAAO,QAAQ,gBAAgB,eAAgB;AAAA,EAC7E;AAAA,EAKA,SAAU,MAAM,WAAW,QAAW,SAAS,CAAC,GAAI;AACnD,KAAE,MAAM,WAAW,QAAW,SAAS,CAAC,CAAE,IAAI,KAAK,YAAa,SAAU;AAC1E,WAAO,KAAK,MAAO,MAAM,UAAU,EAAE,GAAG,QAAQ,SAAS,MAAM,CAAE;AAAA,EAClE;AAAA,EAKA,QAAS,MAAM,WAAW,QAAW,SAAS,CAAC,GAAI;AAClD,KAAE,MAAM,WAAW,QAAW,SAAS,CAAC,CAAE,IAAI,KAAK,YAAa,SAAU;AAC1E,WAAO,KAAK,MAAO,MAAM,UAAU,EAAE,GAAG,QAAQ,SAAS,KAAK,CAAE;AAAA,EACjE;AAAA,EAWA,QAAS,MAAM,UAAU,SAAS,CAAC,GAAI;AACtC,KAAE,MAAM,UAAU,SAAS,CAAC,CAAE,IAAI,KAAK,YAAa,SAAU;AAE9D,QAAK,CAAE,QAAQ,WAAY,EAAE,SAAU,OAAO,MAAO;AAAI,aAAO,KAAK,YAAa,MAAM,UAAU,MAAO;AACzG,QAAK,OAAO,UAAU,OAAO,WAAW;AAAU,YAAM,IAAI,MAAO,kBAAmB,OAAO,kBAAoB;AAEjH,UAAM,EAAE,SAAS,iBAAQ,QAAQ,aAAa;AAE9C,QAAK,OAAO,cAAe;AAAE,aAAO,QAAQ,iCAAiC;AAAA,IAAM;AACnF,QAAO,UAAS,eAAe,aAAa,OAAO,QAAQ,mCAAoC,CAAC,OAAO,QAAQ,sBAAsB,cAAe;AACnJ,sBAAgB,KAAM,SAAQ,QAAQ,MAAM;AAAA,MAAC,CAAE;AAAA,IAChD;AAEA,UAAM,iBAAiB,IAAI,QAAO,iBAAkB,aAAW,QAAQ,QAAS,YAAU;AACzF,gBAAS,KAAM,SAAQ,cAAc,iBAAiB,KAAM,SAAQ,MAAO,GAAG,OAAQ;AAAA,IACvF,CAAE,CAAE;AACJ,mBAAe,QAAS,SAAS,EAAE,WAAW,MAAM,SAAS,OAAO,WAAW,KAAM,CAAE;AACvF,UAAM,kBAAkB,OAAO,mBAAmB,OAAO,oBAAoB,KAAK,sBAAsB;AACxG,UAAM,eAAe,EAAE,SAAS,MAAM,UAAU,QAAQ,iBAAiB,eAAe;AAExF,QAAK,OAAO,mBAAoB;AAC/B,YAAM,sBAAsB,kBAAkB,KAAM,SAAQ,YAAa;AACzE,aAAO,KAAK,gBAAiB,OAAO,QAAQ,gBAAgB,iBAAiB,mBAAoB;AAAA,IAClG;AACA,WAAO,KAAK,gBAAiB,OAAO,QAAQ,gBAAgB,eAAgB;AAAA,EAC7E;AAAA,EAWA,YAAa,MAAM,UAAU,SAAS,CAAC,GAAI;AAC1C,KAAE,MAAM,UAAU,SAAS,CAAC,CAAE,IAAI,KAAK,YAAa,SAAU;AAC9D,UAAM,EAAE,SAAS,oBAAW;AAE5B,QAAK,OAAO,UAAU,CAAC,CAAE,QAAQ,WAAY,EAAE,SAAU,OAAO,MAAO;AAAI,YAAM,IAAI,MAAO,kBAAmB,OAAO,kBAAoB;AAC1I,UAAM,qBAAqB,OAAO,WAAW,cAAc,cAAc;AACzE,QAAK,CAAC,KAAK,SAAU,kBAAmB,EAAE,MAAO;AAEhD,sBAAgB,KAAM,SAAQ,oBAAoB,YAAU;AAC3D,aAAK,uBAAwB,oBAAoB,QAAQ,SAAS;AAAA,MACnE,CAAE;AAAA,IACH;AACA,UAAM,KAAK,IAAI,QAAO,iBAAkB,aAAW,QAAQ,QAAS,YAAU;AAC7E,UAAK,MAAM,QAAW,UAAS,iBAAiB,KAAM,SAAQ,MAAO,GAAI,KAAM;AAAI;AACnF,gBAAS,KAAM,SAAQ,cAAc,QAAQ,OAAQ;AAAA,IACtD,CAAE,CAAE;AACJ,OAAG,QAAS,SAAS,EAAE,WAAW,MAAM,SAAS,OAAO,WAAW,KAAK,CAAE;AAE1E,UAAM,iBAAiB,EAAE,aAAa;AACrC,eAAS,OAAQ,YAAa;AAC9B,SAAG,WAAW;AAAA,IACf,EAAE;AACF,UAAM,kBAAkB,OAAO,mBAAmB,OAAO,oBAAoB,KAAK,sBAAsB;AACxG,UAAM,eAAe,EAAE,SAAS,MAAM,UAAU,QAAQ,iBAAiB,eAAe;AACxF,UAAM,WAAW,KAAK,SAAU,kBAAmB;AACnD,aAAS,IAAK,cAAc,CAAC,CAAC,aAAa,OAAO,QAAS;AAE3D,QAAK,OAAO,mBAAoB;AAC/B,YAAM,sBAAsB,kBAAkB,KAAM,SAAQ,YAAa;AACzE,aAAO,KAAK,gBAAiB,OAAO,QAAQ,gBAAgB,iBAAiB,mBAAoB;AAAA,IAClG;AACA,WAAO,KAAK,gBAAiB,OAAO,QAAQ,gBAAgB,eAAgB;AAAA,EAC7E;AAAA,EAWA,MAAO,UAAU,UAAU,SAAS,CAAC,GAAI;AACxC,aAAS,EAAE,SAAS,MAAM,GAAG,OAAO;AACpC,WAAO,KAAK,QAAS,UAAU,YAAU;AACxC,UAAK,OAAO,SAAS;AAAS,iBAAU,MAAM,MAAM,QAAS,QAAS,IAAI,OAAO,WAAW,OAAO,SAAU,EAAI;AACjH,UAAK,OAAO,MAAM;AAAS,iBAAU,OAAO,MAAM,QAAS,QAAS,IAAI,OAAO,QAAQ,OAAO,MAAO,EAAI;AAAA,IAC1G,GAAG,MAAO;AAAA,EACX;AACD;AASA,2BAA4B,cAAe;AAC1C,QAAM,UAAS;AACf,QAAM,EAAE,SAAS,MAAM,UAAU,QAAQ,oBAAoB;AAC7D,QAAM,eAAe,KAAK,OAAQ,OAAK,EAAE,SAAS,KAAM;AACxD,QAAM,WAAW,cAAY,SAAS,MAAO,aAAc,GAAG,SAAS,CAAE,OAAQ,IAAI,CAAC;AACtF,QAAM,YAAY,cAAY,SAAS,MAAO,YAAa,GAAG,SAAS,CAAE,IAAK,IAAI,CAAC;AACnF,QAAM,QAAQ,cAAY,CAAE,GAAG,SAAS,SAAU,4BAA6B,CAAE,EAAE,IAAK,OAAK,EAAG,EAAI,EAAE,OAAQ,SAAU,QAAS,CAAE,EAAE,OAAQ,UAAW,QAAS,CAAE;AACnK,MAAK,CAAG,cAAa,SAAS,MAAM,KAAM,IAAI,IAAK,aAAa,OAAQ,OAAO,KAAI,IAAK,SAAU,GAAI,CAAE,EAAE,OAAQ,CAAE,OAAO,aAAc,MAAM,OAAQ,MAAO,WAAW,EAAG,CAAE,GAAG,CAAC,CAAE,CAAE,CAAE,GAAI;AAAS;AAErM,QAAM,WAAW,oBAAI,OAAK,QAAQ,oBAAI;AACtC,WAAS,OAAO,SAAS,OAAM,OAAQ,GAAI,GAAG,SAAS,IAAK,GAAI;AAChE,QAAM,OAAO,SAAS,UAAS,OAAQ,GAAI,GAAG,MAAM,IAAK,GAAI;AAC7D,eAAa,iBAAiB,EAAE,UAAU,MAAM;AAEhD,SAAS,IAAI,aAAc,SAAS,OAAO,EAAI,QAAS,aAAa,QAAQ,cAAY;AACxF,UAAM,UAAU,oBAAI,OAAK,YAAY,YAAU;AAC9C,UAAK,CAAC,QAAQ,IAAK,MAAO,GAAI;AAAE,gBAAQ,IAAK,QAAQ,EAAE,QAAQ,UAAU,CAAC,GAAG,OAAO,CAAC,GAAG,MAAM,UAAU,OAAO,KAAK,CAAE;AAAA,MAAG;AACzH,aAAO,QAAQ,IAAK,MAAO;AAAA,IAC5B;AAEA,UAAM,eAAe,oBAAI;AACzB,UAAM,UAAU,UAAQ;AACvB,UAAK,CAAC,aAAa,IAAK,IAAK,GAAI;AAAE,qBAAa,IAAK,MAAM,aAAa,KAAM,OAAK,KAAK,QAAS,IAAI,EAAG,CAAE,CAAE;AAAA,MAAG;AAC/G,aAAO,aAAa,IAAK,IAAK;AAAA,IAC/B;AAEA,eAAY,WAAW,UAAW;AACjC,OAAE,YAAY,OAAQ,EAAE,QAAS,gBAAc;AAC9C,YAAK,OAAO,cAAc,eAAe,OAAO;AAAa;AAC7D,YAAK,aAAa,eAAgB,YAAa,IAAK,QAAQ,MAAO,KAAO,gBAAe,aAAa,CAAC,QAAS,QAAQ,MAAO,IAAI,QAAS,QAAQ,MAAO;AAAM;AACjK,qBAAa,eAAgB,YAAa,KAAM,QAAQ,MAAO;AAC/D,kBAAW,QAAQ,MAAO,EAAG,YAAa,KAAM,QAAQ,MAAO;AAC/D,kBAAW,QAAQ,MAAO,EAAE,QAAQ,QAAQ;AAAA,MAC7C,CAAE;AAAA,IACH;AAEA,eAAY,CAAE,EAAE,WAAY,SAAU;AACrC,YAAM,QAAQ,iBAAiB,SAAS,KAAK,CAAC;AAC9C,eAAU,QAAQ,OAAO,OAAQ;AAAA,IAClC;AAAA,EACD,GAAG,EAAE,SAAS,OAAO,SAAS,QAAQ,OAAO,QAAQ,cAAc,OAAO,aAAa,CAAE;AAC1F;AAUA,mBAAmB,cAAc,SAAU;AAC1C,QAAM,EAAE,SAAS,MAAM,UAAU,QAAQ,iBAAiB,mBAAmB;AAE7E,QAAM,SAAS,EAAE,GAAG,SAAS,UAAU,CAAC,GAAG,OAAO,CAAC,EAAE;AACrD,MAAK,CAAC,OAAO,cAAe;AAAE,WAAO,OAAO;AAAA,EAAO;AACnD,GAAE,YAAY,OAAQ,EAAE,QAAS,gBAAc;AAC9C,QAAK,OAAO,cAAc,eAAe,OAAO;AAAa;AAC7D,QAAK,KAAK,QAAS;AAClB,aAAQ,cAAe,kBAAkB,KAAM,MAAM,MAAM,OAAO,YAAY,eAAe,QAAS,aAAc,QAAQ,UAAU,OAAQ;AAAA,IAC/I,OAAO;AACN,aAAQ,cAAe,CAAE,GAAG,QAAS,WAAa;AAAA,IACnD;AACA,QAAK,CAAC;AAAiB;AACvB,eAAY,QAAQ,OAAQ,aAAe;AAC1C,qBAAgB,YAAa,KAAM,IAAK;AAAA,IACzC;AAAA,EACD,CAAE;AAEF,MAAK,CAAC,OAAO,SAAS,UAAU,CAAC,OAAO,MAAM;AAAS;AACvD,QAAM,QAAQ,iBAAiB,SAAS,KAAK,CAAC;AAC9C,WAAU,QAAQ,OAAO,OAAQ;AAClC;AAYA,2BAA4B,MAAM,YAAY,SAAS,eAAgB;AACtE,YAAU,MAAM,QAAS,OAAQ,IAAI,UAAU,CAAE,GAAG,OAAQ;AAC5D,QAAM,QAAQ,CAAE,UAAS,MAAO;AAE/B,QAAK,EAAE,SAAS,YAAa;AAE5B,UAAI,UAAU,EAAE,cAAc,CAAC,IAAI,SAAQ,OAAQ,YAAU,EAAE,SAAS,UAAU,AAAK,WAAY,MAAM,QAAQ,IAAI,EAAG,IAAI,OAAO,WAAW,OAAO,QAAS,IAAI,EAAG,CAAE;AAEvK,UAAK,iBAAiB,EAAE,aAAc;AACrC,kBAAU,SAAQ,OAAQ,CAAE,YAAY,WAAY;AACnD,cAAK,EAAE,SAAS,SAAU;AAAE,mBAAO,CAAE,GAAG,YAAY,GAAG,AAAK,WAAY,MAAM,QAAQ,GAAG,aAAc,CAAE;AAAA,UAAG;AAC5G,iBAAO,OAAO,mBAAmB,CAAE,GAAG,YAAY,GAAG,OAAO,iBAAkB,IAAI,EAAG,CAAE,IAAI;AAAA,QAC5F,GAAG,OAAQ;AAAA,MACZ;AACA,UAAK,QAAQ;AAAS,eAAO;AAAA,IAC9B,OAAO;AAEN,UAAK,SAAQ,SAAU,EAAE,OAAQ,KAChC,iBAAiB,SAAQ,KAAM,YAAU,AAAK,aAAc,MAAkB,QAAQ,EAAE,SAAS,UAAW,CAAE,GAC3G;AAAE,eAAO,CAAE,EAAE,OAAQ;AAAA,MAAG;AAAA,IAC7B;AAAA,EACD;AAGA,MAAK,CAAC,QAAQ,eAAgB;AAAE,YAAQ,gBAAgB,oBAAI;AAAA,EAAK;AACjE,SAAO,KAAK,OAAQ,CAAE,SAAS,MAAO;AACrC,QAAI;AACJ,QAAK,QAAQ,cAAc,IAAK,EAAE,OAAQ,GAAI;AAC7C,iBAAW,QAAQ,cAAc,IAAK,EAAE,OAAQ;AAAA,IACjD,OAAO;AACN,iBAAW,MAAO,SAAS,CAAE,KAAK,CAAC;AACnC,UAAK,EAAE,SAAS,YAAa;AAC5B,gBAAQ,cAAc,IAAK,EAAE,SAAS,QAAS;AAAA,MAChD;AAAA,IACD;AACA,WAAO,QAAQ,OAAQ,QAAS;AAAA,EACjC,GAAG,CAAC,CAAE;AACP;AASA,0BAA2B,EAAE,QAAQ,YAAY,gBAAiB;AACjE,MAAI,UAAS,MAAM;AACnB,UAAQ,aAAU,UAAW,EAAE,OAAQ,CAAE,MAAM,SAAU,QAAQ,QAAO,OAAO,QAAQ,wBAAwB,IAAK,IAAK,GAAG,IAAK;AACjI,UAAQ,aAAU,YAAa,EAAE,OAAQ,CAAE,MAAM,SAAU,QAAQ,QAAO,OAAO,QAAQ,wBAAwB,IAAK,IAAK,GAAG,KAAM;AACpI,UAAQ,SAAS,QAAO,SAAS,eAAe,aAAa,WAAW;AACxE,SAAO,EAAE,QAAQ,UAAU,YAAY,OAAO,cAAc,MAAM,eAAe,MAAM;AACxF;AAUA,yBAA0B,QAAQ,UAAW;AAC5C,QAAM,UAAS;AACf,QAAM,EAAE,QAAQ,UAAU,MAAM,eAAe,SAAS,aAAa,qBAAqB,qBAAqB;AAC/G,MAAK,CAAC,OAAO,QAAQ,sBAAuB;AAAE,WAAO,eAAgB,OAAO,SAAS,wBAAwB,EAAE,OAAO,oBAAI,MAAI,CAAE;AAAA,EAAG;AACnI,MAAK,CAAC,OAAO,QAAQ,0BAA2B;AAAE,WAAO,eAAgB,OAAO,SAAS,4BAA4B,EAAE,OAAO,oBAAI,MAAI,CAAE;AAAA,EAAG;AAC3I,MAAK,CAAC,OAAO,QAAQ,qBAAqB,IAAK,MAAO,GAAI;AAAE,WAAO,QAAQ,qBAAqB,IAAK,QAAQ,oBAAI,KAAI;AAAA,EAAG;AACxH,SAAO,QAAQ,qBAAqB,IAAK,MAAO,EAAE,IAAK,QAAS;AAChE,QAAM,KAAK,MAAM,OAAO,QAAQ,qBAAqB,IAAK,MAAO,EAAE,OAAQ,QAAS;AACpF,MAAK,OAAO,QAAQ,sBAAsB;AAAe,WAAO;AAChE,UAAQ,KAAM,8CAA+C;AAC7D,SAAO,QAAQ,qBAAqB,eAAe;AACnD,SAAO,eAAgB,OAAO,SAAS,0BAA0B,EAAE,OAAO,oBAAI,MAAI,CAAE;AAGpF,QAAM,YAAY,CAAE,MAAM,QAAQ,cAAc;AAC/C,WAAO,QAAQ,yBAAyB,IAAK,MAAM,MAAO;AAC1D,UAAM,cAAc,UAAS;AAC7B,WAAO,QAAQ,yBAAyB,OAAQ,IAAK;AACrD,WAAO;AAAA,EACR;AAGA,QAAM,YAAY,CAAE,QAAQ,kBAAmB;AAC9C,WAAO,SAAS,OAAQ,OAAO,KAAM,EAAE,QAAS,UAAQ;AACvD,mBAAc,OAAO,QAAQ,uBAAuB,IAAK,IAAK,GAAG,OAAQ;AACzE,aAAO,QAAQ,uBAAuB,IAAK,MAAM,OAAO,KAAM;AAC9D,YAAM,UAAU,WAAY,MAAM;AAAE,eAAO,QAAQ,uBAAuB,OAAQ,IAAK;AAAA,MAAG,GAAG,CAAE;AAC/F,aAAO,eAAgB,OAAO,OAAO,WAAW,EAAE,OAAO,SAAS,cAAc,KAAK,CAAE;AAAA,IACxF,CAAE;AACF,WAAO,QAAQ,qBAAqB,IAAK,WAAY,GAAG,QAAS,eAAY,UAAU,MAAO,CAAE;AAChG,UAAM,cAAc,cAAc;AAClC,WAAO,QAAQ,qBAAqB,IAAK,MAAO,GAAG,QAAS,eAAY,UAAU,MAAO,CAAE;AAC3F,WAAO;AAAA,EACR;AAGA,QAAM,YAAY;AAAA,IAEjB,YAAY,CAAE,aAAa,eAAgB;AAAA,IAC3C,kBAAkB,CAAE,mBAAmB,UAAU,SAAU;AAAA,IAC3D,UAAU,CAAE,mBAAmB,UAAU,SAAU;AAAA,IACnD,aAAa,CAAE,aAAa,WAAY;AAAA,IACxC,SAAS,CAAE,UAAU,WAAW,UAAU,SAAS,yBAAyB,sBAAsB,UAAU,mBAAmB,eAAe,iBAAiB,aAAa,WAAY;AAAA,IACxL,eAAe,CAAE,UAAU,SAAS,UAAU,aAAc;AAAA,IAC5D,MAAM,CAAE,gBAAgB,gBAAgB,eAAe,eAAe,eAAe,WAAY;AAAA,EAClG;AACA,QAAM,gBAAgB;AAAA,IAErB,YAAY,uBAAO,OAAQ,IAAK;AAAA,IAChC,kBAAkB,uBAAO,OAAQ,IAAK;AAAA,IACtC,UAAU,uBAAO,OAAQ,IAAK;AAAA,IAC9B,aAAa,uBAAO,OAAQ,IAAK;AAAA,IACjC,SAAS,uBAAO,OAAQ,IAAK;AAAA,IAC7B,eAAe,uBAAO,OAAQ,IAAK;AAAA,IACnC,MAAM,uBAAO,OAAQ,IAAK;AAAA,EAC3B;AAEA,QAAM,kBAAkB,IAAI,IAAK,OAAO,OAAQ,SAAU,EAAE,OAAQ,CAAE,KAAK,SAAU,IAAI,OAAQ,IAAK,GAAG,CAAC,CAAE,CAAE;AAC9G,kBAAgB,QAAS,aAAW;AAEnC,WAAO,KAAM,SAAU,EAAE,QAAS,kBAAgB;AACjD,UAAK,CAAC,UAAW,cAAe,SAAU,OAAQ;AAAI;AACtD,YAAM,eAAe,OAAO,yBAA0B,QAAQ,cAAe,WAAW,OAAQ;AAChG,UAAK,CAAC;AAAe;AACrB,aAAO,eAAgB,QAAQ,cAAe,WAAW,SAAS,WAAW,eAAe,EAAE,GAAG,cAAc,OAAO,OAAO,IAAI,EAAE,GAAG,cAAc,KAAK,OAAO,CAAE;AAClK,oBAAe,cAAgB,WAAY;AAAA,IAC5C,CAAE;AAEF,uBAAoB,MAAO;AAC1B,YAAM,eAAe,OAAO,KAAM,aAAc,EAAE,KAAM,UAAQ,gBAAgB,QAAQ,SAAY,WAAW,cAAe,KAAS;AACvI,YAAM,gBAAgB,cAAe;AAErC,UAAI,OAAO,MAAM,cAAe,SAAU,MAAM,KAAM,MAAM,GAAG,IAAK;AACpE,UAAK,OAAO,QAAQ,yBAAyB,IAAK,IAAK,MAAM;AAAU,eAAO,KAAK;AAGnF,UAAI,QAAQ,CAAC,GAAG,WAAW,CAAC,GAAG,SAAS;AACxC,UAAK,CAAE,cAAe,EAAE,SAAU,OAAQ,GAAI;AAC7C,mBAAW,CAAE,KAAM,EAAI;AAAA,MACxB,WAAY,CAAE,yBAAyB,oBAAqB,EAAE,SAAU,OAAQ,GAAI;AACnF,mBAAW,CAAE,KAAM,EAAI;AACvB,YAAK,CAAE,eAAe,UAAW,EAAE,SAAU,KAAM,EAAI,GAAI;AAC1D,mBAAS,KAAK;AAAA,QACf;AAAA,MACD,WAAY,CAAE,iBAAiB,iBAAkB,EAAE,SAAU,OAAQ,GAAI;AACxE,gBAAQ,CAAE,GAAG,KAAK,UAAW;AAC7B,mBAAW,YAAY,oBAAoB,CAAE,GAAG,IAAK,IAAI,CAAE,KAAM,EAAI;AAAA,MACtE,WAAY,CAAE,eAAe,QAAS,EAAE,SAAU,OAAQ,GAAI;AAC7D,gBAAQ,CAAE,IAAK;AACf,mBAAW,YAAY,gBAAgB,CAAE,GAAG,IAAK,IAAI,CAAC;AACtD,iBAAS,KAAK;AAAA,MACf,WAAY,CAAE,cAAe,EAAE,SAAU,OAAQ,GAAI;AACpD,gBAAQ,CAAE,KAAM,EAAI;AACpB,mBAAW,CAAE,KAAM,EAAI;AAAA,MACxB,WAAY,CAAE,aAAc,EAAE,SAAU,OAAQ,GAAI;AACnD,gBAAQ,CAAE,GAAG,IAAK;AAAA,MACnB,OAAO;AAEN,mBAAW,CAAE,GAAG,IAAK;AACrB,YAAK,CAAE,UAAU,OAAQ,EAAE,SAAU,OAAQ,GAAI;AAChD,mBAAS,KAAK;AAAA,QACf;AAAA,MACD;AAGA,UAAI,eAAe;AACnB,UAAK,CAAE,sBAAsB,eAAgB,EAAE,SAAU,OAAQ,GAAI;AACpE,YAAI,eAAe,KAAK;AACxB,YAAK,YAAY,wBAAwB,CAAE,eAAe,UAAW,EAAE,SAAU,KAAM,EAAI,GAAI;AAE9F,cAAK,CAAC,KAAK;AAAa,mBAAO,cAAe,SAAU,MAAM,KAAM,MAAM,GAAG,IAAK;AAClF,yBAAe,KAAK,WAAW;AAAA,QAChC;AACA,cAAM,OAAO,SAAS,cAAe,aAAa,SAAU,GAAI,IAA6C,QAAQ,YAAa;AAClI,sBAAc,cAAc,MAAM,KAAM,MAAM,SAAU,IAAK,YAAY,kBAAkB,KAAM,KAAM,CAAC,CAAE;AAC1G,mBAAW,CAAE,GAAG,KAAK,UAAW;AAEhC,YAAK,YAAY,sBAAuB;AACvC,yBAAe;AACf,eAAM,KAAM,IAAI;AAChB,oBAAW,KAAM,IAAK,UAAU,MAAM,KAAM,GAAI,OAAQ,GAAG,KAAK,UAAW,CAAE;AAAA,QAC9E,OAAO;AACN,yBAAe;AACf,iBAAO,CAAE,GAAG,KAAK,UAAW;AAAA,QAC7B;AAAA,MACD;AAEA,UAAK,CAAC;AAAS,eAAO,KAAK;AAC3B,YAAM,SAAS,EAAE,QAAQ,UAAU,OAAO,MAAM,gBAAgB,OAAO,CAAE,MAAM,OAAQ,EAAE;AACzF,aAAO,UAAW,QAAQ,MAAM;AAC/B,eAAO,cAAe,cAAe,MAAM,KAAM,MAAM,GAAG,IAAK;AAAA,MAChE,CAAE;AAAA,IACH;AAEA,oBAAiB,OAAQ;AACxB,YAAM,eAAe,OAAO,KAAM,aAAc,EAAE,KAAM,UAAQ,gBAAgB,QAAQ,SAAY,WAAW,cAAe,KAAS;AACvI,YAAM,gBAAgB,cAAe;AAErC,UAAI,OAAO,MAAM,cAAe,SAAU,IAAI,KAAM,MAAM,KAAM;AAChE,UAAK,gBAAgB,qBAAqB,OAAO,QAAQ,yBAAyB,IAAK,IAAK,MAAM;AAAU,eAAO,KAAK;AAGxH,UAAI,QAAQ,CAAC,GAAG,WAAW,CAAC,GAAG,SAAS;AACxC,UAAK,CAAE,aAAa,WAAY,EAAE,SAAU,OAAQ,GAAI;AACvD,gBAAQ,CAAE,IAAK;AACf,iBAAS,KAAK;AAAA,MACf,OAAO;AAEN,YAAK,gBAAgB,qBAAsB;AAC1C,mBAAS,KAAK;AACd,kBAAQ,CAAE,GAAG,KAAK,QAAQ,UAAW;AAAA,QACtC,OAAO;AACN,kBAAQ,CAAE,GAAG,KAAK,UAAW;AAAA,QAC9B;AAAA,MACD;AAGA,UAAK,CAAE,aAAa,WAAY,EAAE,SAAU,OAAQ,GAAI;AACvD,YAAI,eAAe,KAAK;AACxB,YAAK,YAAY,aAAc;AAE9B,cAAK,CAAC,KAAK;AAAa,mBAAO,KAAK;AACpC,yBAAe,KAAK,WAAW;AAAA,QAChC;AACA,cAAM,OAAO,SAAS,cAAe,aAAa,SAAU,GAAI,IAA6C,QAAQ,YAAa;AAClI,kBAAW,MAAM,SAAS,MAAM,KAAM,WAAY,KAAM;AACxD,mBAAW,gBAAgB,sBAAsB,CAAE,GAAG,KAAK,QAAQ,UAAW,IAAI,CAAE,GAAG,KAAK,UAAW;AACvG,YAAO,gBAAgB,uBAAuB,KAAK,aAAc,KAAM,KAAO,gBAAgB,YAAa;AAC1G,gBAAM,aAAa,WAAS,MAAM,OAAQ,CAAE,SAAS,OAAQ;AAC5D,gBAAK,cAAc;AAAoB,qBAAO,QAAQ,OAAQ,EAAG;AACjE,gBAAK,cAAc;AAAsB,qBAAO,QAAQ,OAAQ,WAAY,CAAE,GAAG,OAAQ,CAAE,CAAE;AAC7F,sBAAU,QAAQ,OAAQ,WAAY,CAAE,GAAK,GAAG,mBAAoB,UAAW,KAAK,CAAC,CAAI,EAAE,IAAK,OAAK,EAAE,OAAQ,CAAE,CAAE;AACnH,mBAAO,QAAQ,OAAQ,GAAK,GAAG,mBAAoB,QAAS,KAAK,CAAC,CAAI;AAAA,UACvE,GAAG,CAAC,CAAE;AACN,qBAAY,UAAU,WAAY,QAAS,GAAI;AAC9C,gBAAI,gBAAgB,YAAY;AAC/B,qBAAO,aAAa,iBAAiB,QAAQ;AAC7C;AAAA,YACD;AACA,kBAAM,UAAU,SAAS,cAAe,QAAS;AACjD,aAAE,GAAG,OAAO,UAAW,EAAE,QAAS,UAAQ,QAAQ,aAAc,KAAK,MAAM,KAAK,KAAM,CAAE;AACxF,oBAAQ,cAAc,OAAO;AAC7B,sBAAW,QAAQ,eAAe,MAAM,OAAO,YAAa,OAAQ,CAAE;AAAA,UACvE;AAAA,QACD;AAEA,YAAK,YAAY,aAAc;AAC9B,kBAAQ,IAAI;AACZ,oBAAW,OAAO,UAAU,MAAM,MAAM,OAAQ,GAAG,QAAS,CAAE;AAC9D,iBAAO,MAAM,UAAW,MAAM,eAAe,MAAM,QAAQ,UAAU,YAAY,KAAM,MAAM,KAAM,CAAE;AAAA,QACtG,OAAO;AACN,cAAK,gBAAgB,qBAAsB;AAC1C,mBAAO,MAAM,UAAW,KAAK,SAAS,mBAAmB,MAAM,KAAK,QAAQ,gBAAiB,GAAG,QAAS,CAAE;AAAA,UAC5G,OAAO;AACN,mBAAO,MAAM,UAAW,MAAM,mBAAmB,MAAM,QAAQ,UAAU,gBAAgB,KAAM,MAAM,GAAG,QAAS,CAAE;AAAA,UACpH;AAAA,QACD;AAAA,MACD;AAEA,YAAM,SAAS,EAAE,QAAQ,UAAU,OAAO,MAAM,gBAAgB,OAAO,CAAE,MAAM,OAAQ,EAAE;AACzF,aAAO,UAAW,QAAQ,IAAK;AAAA,IAChC;AAAA,EACD,CAAE;AAEF,SAAO;AACR;;;ACziBe,6BAAW;AACtB,aAAW,KAAM,IAAK;AACtB,mBAAiB,KAAM,IAAK;AAC5B,kBAAgB,KAAM,IAAK;AAC/B;AAOO,sBAAsB;AACzB,QAAM,UAAS;AACf,MAAK,CAAC,QAAO,KAAM;AAAE,YAAO,MAAM,CAAC;AAAA,EAAE;AACrC,MAAK,CAAC,QAAO,IAAI,QAAS;AAQtB,YAAO,IAAI,SAAS,SAAO,IAAI,QAAS,kBAAkB,MAAO;AAAA,EACrE;AACJ;AASO,4BAA4B;AAC/B,QAAM,UAAS;AACf,MAAK,CAAG,kBAAiB,QAAO,KAAK,YAAc;AAC/C,WAAO,eAAgB,QAAO,KAAK,WAAW,eAAe,EAAE,KAAK,WAAW;AAC3E,aAAO,CAAC,KAAK,iBAAiB,CAC1B,MAAK,cAAc,wBAAyB,IAAK,IAC/C,KAAK;AAAA,IACf,EAAE,CAAE;AAAA,EACR;AACJ;AASO,2BAA2B;AAC9B,QAAM,UAAS;AACf,MAAK,CAAC,QAAO,QAAQ,UAAU,SAAU;AACrC,YAAO,QAAQ,UAAU,UACzB,QAAO,QAAQ,UAAU,mBACzB,QAAO,QAAQ,UAAU,sBACzB,QAAO,QAAQ,UAAU,qBACzB,QAAO,QAAQ,UAAU,oBACzB,QAAO,QAAQ,UAAU,yBACzB,SAAU,GAAI;AACV,UAAI,UAAY,MAAK,YAAY,KAAK,eAAgB,iBAAkB,CAAE,GACtE,IAAI,QAAQ;AAChB,aAAQ,EAAE,KAAK,KAAK,QAAQ,KAAM,CAAE,MAAM,MAAO;AAAA,MAAC;AAClD,aAAO,IAAI;AAAA,IACf;AAAA,EACJ;AACJ;;;AC5De,uBAAW;AACtB,QAAM,UAAS;AACf,MAAK,CAAC,QAAO;AAAS,YAAO,SAAS,CAAC;AACvC,MAAK,QAAO,OAAO;AAAU,WAAO,QAAO,OAAO;AAClD,UAAO,OAAO,UAAU,CAAC;AACzB,oBAAS,KAAM,OAAO;AAEtB,UAAO,OAAO,QAAQ,OAAO,IAAK,SAAU,KAAK,KAAM,SAAQ,GAAG,IAAK;AACvE,UAAO,OAAO,QAAQ,QAAQ,IAAK,SAAU,MAAM,KAAM,SAAQ,GAAG,IAAK;AAEzE,UAAO,OAAO,QAAQ,WAAW,CAAE,SAAS,YAAY,UAAW;AAC/D,QAAK,cAAc;AAAQ,aAAO,IAAI,YAAa,SAAS,OAAO;AACnE,QAAK,cAAc;AAAS,aAAO,IAAI,aAAc,SAAS,OAAO;AAAA,EACzE;AAEA,QAAM,YAAY,IAAI,UAAW,OAAO;AACxC,UAAO,OAAO,QAAQ,WAAW,CAAE,SAAS,SAAU;AAClD,WAAO,UAAW,KAAM,QAAW,GAAG,IAAK;AAAA,EAC/C;AACA,UAAO,OAAO,QAAQ,kBAAkB,IAAK,SAAU;AACnD,WAAO,UAAU,gBAAiB,GAAG,IAAK;AAAA,EAC9C;AAEA,SAAO,QAAO,OAAO;AACzB;AAUA,kBAAmB,MAAO;AACtB,MAAI,SAAS,eAAe;AAC5B,MAAK,iBAAW,KAAM,EAAI,GAAI;AAC1B,aAAS,KAAM;AACf,QAAK,mBAAa,KAAM,EAAI,GAAI;AAAE,iBAAW,KAAM;AAAA,IAAK;AAAA,EAC5D,WAAY,mBAAa,KAAM,EAAI,GAAI;AAAE,eAAW,KAAM;AAAA,EAAK;AAE/D,QAAM,UAAU,EAAE,aAAa,CAAE,eAAe,UAAW,GAAG,UAAU,CAAE,UAAW,EAAG;AACxF,MAAK,CAAC,QAAS;AAAW,UAAM,IAAI,MAAO,+BAAgC,SAAW;AACzF,QAAM,UAAS;AAEZ,MAAK,CAAC,UAAW;AACb,QAAK,CAAC,QAAO,OAAO,QAAQ,oBAAqB;AAC7C,cAAO,OAAO,QAAQ,qBAAqB;AAAA,QACvC,aAAa,IAAI,QAAS,SAAO,MAAM,KAAM,MAAM,eAAe,GAAI,CAAE;AAAA,QACxE,UAAU,IAAI,QAAS,SAAO,MAAM,KAAM,MAAM,YAAY,GAAI,CAAE;AAAA,MACtE;AAAA,IACJ;AACA,WAAO,QAAO,OAAO,QAAQ,mBAAoB;AAAA,EACrD;AAEH,MAAK,QAAS,QAAS,SAAU,QAAO,SAAS,UAAW;AAAI,WAAO,SAAU,OAAO;AACrF,MAAK,CAAC,QAAO,OAAO,QAAQ,qBAAsB;AAC9C,YAAO,OAAO,QAAQ,sBAAsB,EAAE,aAAa,CAAC,GAAG,UAAU,CAAC,EAAE;AAC5E,YAAO,SAAS,iBAAkB,oBAAoB,MAAM;AACxD,YAAM,QAAQ,QAAO,SAAS;AAC9B,iBAAY,aAAY,QAAO,OAAO,QAAQ,oBAAqB,OAAQ,OAAQ,CAAE,GAAI;AACrF,kBAAU,OAAO;AAAA,MACrB;AAAA,IACJ,GAAG,KAAM;AAAA,EACb;AACA,UAAO,OAAO,QAAQ,oBAAqB,QAAS,KAAM,QAAS;AACvE;AASA,cAAe,MAAO;AAClB,QAAM,UAAS;AACf,MAAI,WAAW,CAAC,GAAG;AACnB,MAAK,MAAM,QAAO,SAAS,cAAe,cAAe,QAAU,GAAI;AACnE,eAAa,KAAI,WAAW,IAAK,MAAO,GAAI,EAAE,OAAQ,OAAK,CAAE,EAAE,OAAQ,CAAE,WAAW,cAAe;AAC/F,YAAM,iBAAiB,UAAU,MAAO,GAAI,EAAE,IAAK,OAAK,EAAE,KAAK,CAAE;AACjE,kBAAM,WAAW,eAAgB,GAAI,MAAO,GAAI,GAAG,eAAgB,OAAQ,SAAS,OAAQ,eAAgB,OAAQ,UAAU,QACtH,kBAAY,eAAgB,EAAI,IAAI,SAAU,eAAgB,EAAI,IAAI,eAAgB,EAE9F;AACA,aAAO;AAAA,IACX,GAAG,CAAC,CAAE;AAAA,EACV;AACA,SAAO,EAAE,IAAI,OAAO;AAAE,WAAO;AAAA,EAAM,GAAG,IAAI,UAAU;AAAE,WAAO,IAAI;AAAA,EAAS,GAAG,OAAO;AACtF,WAAO,KAAK,MAAO,KAAK,UAAW,QAAS,CAAE;AAAA,EAC5C,EAAE;AACN;;;AC7Fe,yBAAS,KAAK,QAAQ;AACpC,MAAI,OAAO,QAAQ,UAAU;AAC5B,WAAO;AAAA,EACR;AACA,SAAO,IAAI,QAAQ,UAAW,SAAS,KAAK;AAAE,WAAO,IAAI,OAAO,CAAC,EAAE,YAAY,IAAM,QAAO,WAAW,UAAa,SAAU,IAAI,OAAO,CAAC,EAAE,YAAY,IAAI,IAAI,OAAO,CAAC;AAAA,EAAI,CAAC;AAC9K;;;ACLO,IAAM,MAAM,CAAE,WAAW,SAAU,GAAM,QAAQ,UAAU,GAAG,IAAK;AAEnE,IAAM,MAAM,CAAC;AAEb,eAAgB,MAAM,SAAS,WAAY;AAC9C,QAAM,UAAS,MAAM,UAAU,YAAY,KAAM,OAAO;AACxD,MAAI,SAAS;AACb,MAAK,CAAC,QAAO,cAAe;AACxB,YAAO,eAAe,QAAQ,KAAM,QAAS,EAAE,KAAK;AAAA,EACxD;AACA,UAAO,UAAY,SAAO,SAAS,CAAC;AACpC,UAAO,OAAO,UAAY,SAAO,OAAO,SAAS,CAAC;AAClD,UAAO,OAAO,OAAO,WAAa,SAAO,OAAO,OAAO,UAAU,CAAC;AAElE,QAAM,YAAY,KAAK,YAAY,EAAE,QAAS,KAAK,GAAI;AACvD,MAAK,CAAC,QAAO,OAAO,OAAO,QAAS,YAAc;AAC9C,YAAO,OAAO,OAAO,QAAS,aAAe,CAAC;AAC9C,UAAM,SAAS,QAAO,OAAO,OAAO,QAAS;AAC7C,kBAAQ,GAAG,QAAQ,WAAW,SAAS,QAAQ,KAAM,IAAK,EAAE,KAAK,CAAE;AACnE,QAAK,QAAO,aAAa,QAAS;AAC9B,aAAO,KAAM,MAAO,EAAE,QAAS,UAAQ;AACnC,eAAO,KAAM,OAAQ,KAAO,EAAE,QAAS,SAAO;AAC1C,cAAK,SAAS,SAAS,OAAO,OAAQ,MAAQ,SAAU,UAAW;AAC/D,mBAAQ,MAAQ,OAAQ,GAAI,QAAO,aAAa,SAAW,gBAAU,OAAQ,MAAQ,IAAM;AAAA,UAC/F,WAAY,CAAE,QAAQ,UAAW,EAAE,SAAU,IAAK,KAAK,OAAQ,MAAQ,MAAO,WAAY,OAAQ,MAAM,OAAQ;AAC5G,mBAAQ,MAAQ,OAAQ,GAAI,QAAO,aAAa,UAAY,OAAQ,MAAQ;AAAA,UAChF;AAAA,QACJ,CAAE;AAAA,MACN,CAAE;AAAA,IACN;AAAA,EACJ;AAEA,SAAO,EAAE,QAAQ,QAAO,OAAO,OAAO,QAAS,YAAa,SAAS,gBAAO;AAChF;AA0CO,IAAM,UAAU,MAAQ,KAAI,KAAK,OAAO,IAAI,KAAM,SAAU,EAAG;AAGtE,IAAM,YAAY,oBAAI;AACf,iBAAkB,KAAM;AAC3B,MAAI;AACJ,MAAK,CAAG,QAAO,UAAU,IAAK,GAAI,IAAM;AACpC,WAAO,QAAQ;AACf,cAAU,IAAK,KAAK,IAAK;AAAA,EAC7B;AACA,SAAO;AACX;AAGO,mBAAoB,MAAO;AAC9B,MAAI;AACJ,YAAU,QAAS,CAAE,OAAO,SAAU;AAClC,QAAK,UAAU;AAAO,YAAM;AAAA,EAChC,CAAE;AACF,SAAO;AACX;;;ACrGe,cAAc,EAAE,WAAW,CAAC,MAAM,WAAW;AACxD,QAAM,EAAE,QAAQ,oBAAW,MAAM,KAAM,MAAM,aAAa,SAAS;AAAA,IAC/D,QAAQ,EAAE,WAAW,UAAU,WAAW,iDAAiD,QAAQ,OAAO;AAAA,IAC1G,KAAK,EAAE,SAAS,UAAU;AAAA,IAC1B,UAAU,cAAc,QAAQ;AAAA,EACpC,CAAE;AACF,QAAM,cAAc,MAAM,QAAS,OAAO,OAAO,SAAU,IAAI,OAAO,OAAO,YAAY,OAAO,OAAO,UAAU,MAAO,GAAI,EAAE,OAAQ,OAAK,CAAE;AAC7I,SAAO,iBAAkB,YAAY,IAAK,OAAK,gBAAiB,QAAO,IAAI,OAAQ,CAAE,yBAA2B,EAAE,OAAO,oBAAoB,EAAE,KAAM,GAAI;AACzJ,UAAO,OAAO,OAAO,SAAS;AAAA,IAC1B,cAAc,CAAE,oBAAI,OAAK,oBAAI,KAAK;AAAA,IAClC,SAAS,QAAQ,KAAM,SAAQ,MAAO;AAAA,EAC1C;AACA,aAAW,KAAM,SAAQ,MAAO;AAChC,WAAS,KAAM,SAAQ,MAAO;AAClC;AAEA,oBAAqB,QAAS;AAC1B,QAAM,UAAS,MAAM,EAAE,QAAQ,EAAE,aAAa,2BAA2B;AACzE,QAAM,aAAa,oBAAI;AACvB,MAAK,OAAO,IAAI,WAAW,QAAO,QAAQ,WAAY;AAAE,UAAM,IAAI,MAAO,sCAAuC,OAAO,IAAI,oBAAsB;AAAA,EAAG;AACpJ,GAAE,QAAO,WAAW,WAAW,QAAO,QAAQ,SAAU,EAAE,QAAS,WAAS;AACxE,WAAO,eAAgB,OAAO,OAAO,IAAI,SAAS,EAAE,KAAK,WAAW;AAChE,UAAK,CAAC,WAAW,IAAK,IAAK,GAAI;AAAE,mBAAW,IAAK,MAAM,CAAC,CAAE;AAAA,MAAG;AAC7D,aAAO,WAAW,IAAK,IAAK;AAAA,IAChC,EAAG,CAAE;AAAA,EACT,CAAE;AACF,SAAO,iBAAkB,QAAO,kBAAkB,WAAW;AAAA,IACzD,QAAQ;AAAA,MACJ,cAAc;AAAA,MACd,MAAM;AAAE,eAAO,KAAK,aAAc,QAAS;AAAA,MAAG;AAAA,MAC9C,IAAK,OAAQ;AAAE,aAAK,gBAAiB,UAAU,KAAM;AAAA,MAAG;AAAA,IAC5D;AAAA,IACA,MAAM;AAAA,MACF,cAAc;AAAA,MACd,MAAM;AACF,YAAI,KAAK;AAAmB,iBAAO;AACnC,cAAM,iBAAiB,YAAY,KAAK,uBAAuB,KAAK,eAAe,IAAI,GAAG,CAAC;AAC3F,eAAO,qBAAqB,gBAAgB,IAAI;AAAA,MACpD;AAAA,IACJ;AAAA,EACJ,CAAE;AACN;AAGA,uBAAwB,QAAQ,UAAW;AACvC,QAAM,UAAS,MAAM,EAAE,YAAY,QAAO;AAC1C,QAAM,OAAO,UAAW,QAAS;AACjC,MAAK,CAAC;AAAO,UAAM,IAAI,MAAO,qCAAsC;AACpE,QAAM,EAAE,QAAQ,gBAAgB,gBAAgB;AAEhD,MAAK,OAAO,OAAO,cAAc,WAAY;AACzC,WAAO,OAAO;AAAA,EAClB,WAAY,OAAO,OAAO,cAAc,UAAW;AAC/C,WAAO,cAAc;AAAA,EACzB,OAAO;AACH,eAAW,YAAY;AACnB,aAAO,cAAc,MAAM,eAAe,SAAS;AAAA,IACvD,GAAG,CAAC;AAAA,EACR;AAEA,QAAM,WAAW,OAAO,SAAS,cAAc,OAAO,YAAY;AAClE,MAAK,CAAC,IAAK,QAAS,EAAE,IAAK,WAAY,GAAI;AACvC,QAAK,QAAS,EAAE,IAAK,aAAa,uBAAO,OAAQ,IAAK,CAAE;AAAA,EAC5D;AACA,QAAM,oBAAoB,MAAQ,OAAM,eAAe,KAAM,aAAa,IAAK,QAAS,EAAE,IAAK,WAAY,CAAE,GAAI,QAAQ;AACzH,MAAK,OAAO,MAAO;AAAE,WAAO,eAAgB,QAAQ,qBAAqB,EAAE,OAAO,kBAAkB,CAAE;AAAA,EAAG;AACzG,UAAQ,SAAU,QAAO,QAAS,EAAE,QAAS,QAAQ,MAAM;AACvD,QAAK,OAAO,MAAO;AAAE,wBAAkB,MAAM;AAAA,IAAG;AAChD,QAAK,uBAAuB,QAAO,SAAU;AAAE,kBAAa,OAAO,IAAI,UAAW,OAAQ,YAAa,OAAO,IAAI,SAAU,QAAS,QAAQ,CAAE,CAAE;AAAA,IAAG;AAAA,EACxJ,GAAG,EAAE,IAAI,0BAA0B,SAAS,eAAe,QAAQ,QAAQ,YAAY,QAAQ,CAAE;AACrG;AAEA,kBAAmB,QAAS;AACxB,QAAM,YAAY,OAAO,yBAA0B,YAAY,QAAS,GAAG,KAAK,SAAS,EAAE,SAAU,eAAgB,KAAK;AAC1H,QAAM,UAAS,MAAM,EAAE,QAAQ,EAAE,QAAQ,cAAc;AACvD,MAAK,CAAC,QAAO,kBAAkB,UAAW;AAAE,YAAO,kBAAkB,WAAW,UAAQ,CAAE,mBAAmB,wBAAyB,EAAE,SAAU,IAAK;AAAA,EAAG;AAC1J,QAAM,UAAU,oBAAI;AACpB,UAAQ,SAAU,QAAO,QAAS,EAAE,MAAO,OAAO,gBAAgB,YAAU;AACxE,WAAO,SAAS,QAAS,YAAU;AAC/B,UAAK,QAAQ,IAAK,MAAO,KAAK,OAAO,aAAa,UAAU,KAAM,CAAC,aAAa,CAAC,OAAO,aAAa,KAAK;AAAK;AAE/G,YAAM,iBAAiB,cAAc,KAAM,SAAQ,QAAQ,MAAO;AAClE,UAAK,CAAC;AAAiB;AACvB,cAAQ,IAAK,MAAO;AAEpB,YAAM,cAAc,OAAO,SAAS,OAAO,cAAc,OAAO,SAAW,OAAO,SAAS,WAAW,SAAY;AAClH,UAAK,OAAO,QAAS;AAAE,oBAAa,OAAO,IAAI,SAAU,KAAM,MAAO;AAAA,MAAG;AACzE,YAAM,WAAW,QAAS,EAAE,QAAQ,gBAAgB,YAAY,CAAE;AAClE,YAAM,iBAAiB,OAAO,SAAS,WAAa,OAAO,QAAQ,CAAC,QAAO,kBAAkB,SAAU,OAAO,IAAK,KAAO,OAAO,aAAa,eAAe,MAAM;AACnK,UAAK,kBAAkB,OAAO,OAAO,WAAW,UAAW;AAAE,eAAO,OAAO,QAAS,QAAS;AAAA,MAAG,OAAO;AACnG,eAAO,cAAc,kCAAmC;AAAA,MAC5D;AAAA,IACJ,CAAE;AAAA,EACN,GAAG,EAAE,IAAI,4BAA4B,MAAM,MAAM,SAAS,eAAe,QAAQ,aAAa,YAAY,YAAY,cAAc,KAAK,CAAE;AAE/I;AAEA,uBAAwB,QAAQ,QAAS;AACrC,QAAM,UAAS,MAAM,EAAE,QAAQ,EAAE,QAAQ,YAAY,iBAAiB,iBAAiB;AAEvF,MAAI,cAAc,OAAO,YAAY,KAAK;AAC1C,MAAK,YAAY,WAAY,uBAAwB,KAAK,YAAY,SAAU,cAAe,GAAI;AAC/F,kBAAc,YAAY,MAAO,IAAI,GAAI;AACzC,WAAO,eAAgB,QAAQ,uBAAuB,EAAE,OAAO,YAAY,CAAE;AAAA,EACjF;AACA,MAAK,CAAC,YAAY,KAAK,EAAE;AAAS;AAElC,QAAM,aAAa,QAAS,WAAY;AACxC,QAAM,eAAe,OAAO,OAAO,aAAc,OAAO,OAAO,IAAI;AACnE,MAAI;AACJ,MAAK,CAAG,kBAAiB,aAAa,IAAK,UAAW,IAAM;AACxD,UAAM,EAAE,6BAAc,gBAAgB,kCAAkB,OAAO;AAC/D,qBAAiB,IAAM,QAAO,SAAS,WAAW,aAAe,cAAc,iBAAqB,aAAa;AAAA,MAC7G,UAAU,OAAO;AAAA,MACjB,iBAAiB,IAAK,OAAO;AAAA,MAC7B,UAAU,GAAI,QAAO,SAAS,KAAK,MAAO,GAAI,IAAK,MAAO,MAAQ,OAAO;AAAA,MACzE;AAAA,MACA;AAAA,MACA;AAAA,IACJ,CAAE;AACF,iBAAa,IAAK,YAAY,cAAe;AAAA,EACjD;AACA,SAAO;AACX;;;ACrHA,KAAK,KAAM,MAAO;",
  "names": []
}
